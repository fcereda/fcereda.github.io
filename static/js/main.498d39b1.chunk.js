(this.webpackJsonpblueprint=this.webpackJsonpblueprint||[]).push([[0],{121:function(e,t,a){e.exports=a(196)},126:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(19),o=a.n(r),s=(a(126),a(12)),l=a(8),c=a(9),u=a(5),d=a(11),m=a(10),h=(a(127),a(128),a(129),a(130),a(131),a(27)),p=a(29);a(132);var f=function(e){return i.a.createElement("div",{className:"app-frame"},i.a.createElement("div",{className:"topbar"},e.topbar),i.a.createElement("div",{style:{flex:1,display:"flex",overflow:"hidden",backgroundColor:"#eee"}},i.a.createElement("div",{className:"sidebar"+(e.dark?" bp3-dark":"")},e.sidebar),i.a.createElement("div",{className:"content"},e.content)))};a(133);var v=function(e){var t={width:e.width||e.defaultWidth};return e.open||(t.width=0),i.a.createElement("div",{className:"collapsible-bar",style:t},e.children)},g=a(16),b=p.w.create({className:"recipe-toaster",position:g.a.TOP_RIGHT}),C=a(83),E=(a(162),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this)).handleEditorChange=function(e){n.setState({texto:e}),n.changeEventDispatcher||(n.changeEventDispatcher=setTimeout((function(){n.props.onChange&&n.props.onChange(n.state.texto),n.changeEventDispatcher=null}),5e3))},n.handleBlur=function(e){n.props.onChange&&n.props.onChange(e.target.getContent())},n.state={texto:e.texto},n.editorRef=i.a.createRef(),n.changeEventDispatcher=null,n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.texto!==this.props.texto&&(this.editorRef.current.editor.setContent&&this.editorRef.current.editor.setContent(this.props.texto),this.setState({texto:this.props.texto}))}},{key:"render",value:function(){return i.a.createElement("div",{style:{flex:1,display:"flex",flexDirection:"column",height:"100%"}},i.a.createElement(C.a,{ref:this.editorRef,initialValue:this.state.texto||'<p class="num"> </p>',init:{placeholder:"Clique aqui para digitar o texto",plugins:"link code lists advlist textpattern table nonbreaking paste searchreplace spellchecker charmap fullscreen",content_css:["/fonts/source-serif-pro/source-serif-pro.css","/fonts/roboto/roboto.css","/editor-content.css"],content_style:"body {font-family: 'Source Serif Pro', serif; font-size:18px; padding-left: calc(50% - 35ch); padding-right: calc(50% - 35ch);}",block_formats:"Numerado=pn; Talking point=tp; Info em it\xe1lico=infotp; Normal=pc; T\xedtulo 1=h1; T\xedtulo 2=h2; T\xedtulo 3=h3; Assinatura=assinat",font_formats:"Arial=arial,helvetica,sans-serif; Courier New=courier new,monospace; Source Serif=Source Serif Pro",fontsize_formats:"11px 12px 14px 15px 16px 17px 18px 24px 36px 48px",formats:{pc:{block:"p",remove:"all",exact:!0},pn:{block:"p",classes:"num",remove:"all",exact:!0},tp:{block:"p",classes:"tp",remove:"all",exact:!0,split:!1},infotp:{block:"p",classes:"infotp",remove:"all",exact:!0},h1:{block:"h1",exact:!0},h2:{block:"h2",exact:!0},h3:{block:"h3",exact:!0},assinat:{block:"h6",remove:"all",exact:!0},alignleft:{selector:"td",classes:"left"},aligncenter:{selector:"td",classes:"center"},alignright:{selector:"td",classes:"right"},strikethrough:{inline:"del",remove:"all"}},style_formats:[{title:"Talking points",format:"tp"},{title:"Numerado",format:"pn"},{title:"Info em it\xe1lico",format:"infotp"},{title:"Normal",format:"pc"},{title:"T\xedtulo 1",format:"h1"},{title:"T\xedtulo 2",format:"h2"},{title:"T\xedtulo 3",format:"h3"},{title:"Assinatura",format:"assinat"}],preview_styles:"font-family font-size font-weight",valid_elements:"a[href|target=_blank],br,strong/b,u,em/i,del/strike,sub,sup,blockquote,p[class|style],h1,h2,h3,h4,h5,h6,h7p[class]/div[class],ol[style],ul[style],li[style],table[style|border|width|height|align|cellspacing|cellpadding],thead,tbody,tfoot,tr[style],td[style|class|width|height],th[style|class|width|height]",indentation:"2em",toolbar:"formatselect | paste cut copy | undo redo | searchreplace | bold italic | numlist bullist | blockquote outdent indent | charmap table | zoomout zoomin code",menubar:!1,statusbar:!1,nonbreaking_force_tab:!0,advlist_number_styles:"lower-alpha,decimal,upper-alpha",language_url:"/tinymce/langs/pt_BR.js",language:"pt_BR",spellchecker_language:"pt_BR",entities:"euro",paste_merge_formats:!0,paste_retain_style_properties:"",paste_word_valid_elements:"b,strong,i,em,u,sub,sup,strike,h1,h2,h3,p,table,tbody,thead,tfoot,tr,td,th,div,ol,ul,li,br,del",invalid_elements:"pre",valid_classes:"num tp infotp assinat left center right",valid_styles:{table:"width, min-width",td:"width",div:"width,height",ul:"list-style-type",ol:"list-style-type"},table_default_styles:{},table_responsive_width:!0,table_advtab:!1,table_cell_advtab:!1,table_row_advtab:!1,table_toolbar:"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol | alignleft aligncenter alignright",textpattern_patterns:[{start:"--",replacement:"\u2014"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:">>",cmd:"mceToggleFormat",value:"tp"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"},{start:"1. ",format:"pn"},{start:"2. ",format:"pn"},{start:"3. ",format:"pn"},{start:"1) ",cmd:"InsertOrderedList",value:{"list-style-type":"decimal"}},{start:"a. ",cmd:"InsertOrderedList",value:{"list-style-type":"lower-alpha"}},{start:"a) ",cmd:"InsertOrderedList",value:{"list-style-type":"lower-alpha"}},{start:"A. ",cmd:"InsertOrderedList",value:{"list-style-type":"upper-alpha"}},{start:"A) ",cmd:"InsertOrderedList",value:{"list-style-type":"upper-alpha"}}],contextmenu:"copy cut paste | bold italic underline strikethrough | link table spellchecker",autosave_restore_when_empty:!0,autosave_retention:"180m",height:"100%",init_instance_callback:function(e){e.on("ExecCommand",(function(t){var a=["pn","tp","infotp"];if("mceToggleFormat"===t.command){var n=t.value;if(a.indexOf(n)<0)return;e.formatter.matchAll(a).forEach((function(t){t!==n&&e.formatter.toggle(t)})),e.formatter.apply(n)}}))},setup:function(e){var t,a,n=[0,.5,.65,.8,.9,1,1.05,1.15,1.25,1.5,2],i=n[1],r=n[n.length-1],o=function(o){return function(e){t.setDisabled(e>=r),a.setDisabled(e<=i)}(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=e.dom.getRoot(),i=Number(e.dom.getStyle(a,"zoom",!0)),r=n.indexOf(i),o=n[r+t];return o?(e.dom.setStyle(a,"zoom",o),o):i}(o))};e.on("init",(function(t){e.dom.getRoot().addEventListener("keydown",(function(e){if(e.ctrlKey&&("+"===e.key||"-"===e.key)){var t="+"===e.key?1:-1;o(t),e.preventDefault(),e.stopPropagation()}}))})),e.ui.registry.addButton("zoomin",{icon:"zoom-in",tooltip:"Aumentar zoom",disabled:!1,onSetup:function(e){return t=e},onAction:function(e){o(1)}}),e.ui.registry.addButton("zoomout",{icon:"zoom-out",tooltip:"Reduzir zoom",disabled:!1,onSetup:function(e){return a=e},onAction:function(e){o(-1)}})}},onEditorChange:this.handleEditorChange,onBlur:this.handleBlur}))}}]),a}(i.a.Component)),S=a(32),x=a(20),O=(a(163),a(40));a(164);var k=function(e){var t;e.buttonIcon&&e.buttonClick&&(t=i.a.createElement("button",{onClick:e.buttonClick},e.buttonIcon));var a=["formfield",e.className];e.disabled&&a.push("disabled"),e.error&&a.push("has-error"),e.placeholder&&a.push("not-empty");var n=Object(s.a)({flex:1,width:e.width},e.style);return!1===e.visible&&(n.display="none"),i.a.createElement("div",{className:"formfield-container",style:n},i.a.createElement("div",{className:a.join(" "),onClick:e.disabled?function(){}:e.onClick,onBlur:e.onBlur},e.children,i.a.createElement("label",null,e.label),t),i.a.createElement("div",{className:e.error?"error message":"message"},e.error||e.message))};var y=function(e){var t=Object(s.a)({width:"100%"},e.style);return i.a.createElement(k,e,i.a.createElement("input",{type:e.type||"text",style:t,placeholder:e.placeholder,disabled:e.disabled,required:!0,pattern:".*\\S+",value:e.value,onChange:e.onChange,onClick:e.onClick,onFocus:e.onFocus,onBlur:e.onBlur}))};var I=function(e){var t=(e.items||e.options).map((function(t,a){var n=t.id||t.value||a,r=t.id||t.value;return i.a.createElement("option",{key:n,value:r,checked:r===e.value},t.text||t.label)}));return i.a.createElement(k,e,i.a.createElement("select",{type:"select",placeholder:"  ",required:!0,disabled:e.disabled,value:e.value,onChange:e.onChange},e.addBlankOption?i.a.createElement("option",{value:""}):"",t,"}"))},j=a(201),w=a(202);function D(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}var R=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this)).render=function(){var e=n.props.noResults||null,t=!0;t=n.props.multiple?0===n.state.value.length:!n.state.value;var a=n.props.multiple?i.a.createElement(j.a,{className:"embedded",placeholder:n.props.placeholder||"",disabled:n.props.disabled,ref:n.selectRef,fill:!0,createNewItemFromQuery:n.props.createNewItemFromQuery,createNewItemRenderer:n.createNewItemRenderer,initialContent:null,items:n.getItemsNotSelected(n.props.items),itemListPredicate:n.props.filterItems||n.filterItems,itemRenderer:n.renderItem,openOnKeyDown:!0,query:n.state.query,noResults:e,onItemSelect:n.handleSelect,onItemsPaste:n.handleItemsPaste,onQueryChange:n.handleQueryChange.bind(Object(u.a)(n)),popoverProps:{minimal:!0},resetOnSelect:!0,tagRenderer:n.props.renderTag||n.renderTag,tagInputProps:{onRemove:n.handleTagRemove,tagProps:n.getTagProps,inputProps:{onKeyUp:n.handleTagInputKeyUp}},selectedItems:n.state.value}):i.a.createElement(i.a.Fragment,null,i.a.createElement(w.a,{className:"embedded suggest",defaultSelectedItem:n.props.defaultSelectedItem,placeholder:n.state.selectedItem?n.props.placeholder:"",disabled:n.props.disabled,ref:n.selectRef,fill:!0,items:n.props.items,itemListPredicate:n.filterItems,itemRenderer:n.renderItem,openOnKeyDown:!0,noResults:e,onItemSelect:n.handleSelectSimple,onItemsPaste:n.handleItemsPaste,popoverProps:{minimal:!0},resetOnSelect:!0,inputValueRenderer:n.props.renderInputValue||n.renderInputValue,selectedItem:n.props.value}),i.a.createElement(p.e,{icon:"cross",style:{opacity:n.state.value?.75:0},onClick:n.handleClearOption}));return i.a.createElement(k,Object.assign({className:t&&!n.props.placeholder?"empty":"not-empty",onClick:n.handleFieldClick,onBlur:n.handleBlur},n.props,{error:n.props.error||n.state.error}),a)},n.state={separator:e.separator||"/",value:e.value||(e.multiple?[]:null),query:"",notEmpty:!1,error:""},n.selectRef=i.a.createRef(),n.createNewItemRenderer=n.createNewItemRenderer.bind(Object(u.a)(n)),n.filterItems=n.filterItems.bind(Object(u.a)(n)),n.getItemsNotSelected=n.getItemsNotSelected.bind(Object(u.a)(n)),n.getTagProps=n.getTagProps.bind(Object(u.a)(n)),n.handleBlur=n.handleBlur.bind(Object(u.a)(n)),n.handleClearOption=n.handleClearOption.bind(Object(u.a)(n)),n.handleFieldClick=n.handleFieldClick.bind(Object(u.a)(n)),n.handleSelect=n.handleSelect.bind(Object(u.a)(n)),n.handleSelectSimple=n.handleSelectSimple.bind(Object(u.a)(n)),n.handleTagRemove=n.handleTagRemove.bind(Object(u.a)(n)),n.handleTagInputKeyUp=n.handleTagInputKeyUp.bind(Object(u.a)(n)),n.renderItem=n.renderItem.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.selectRef.current.inputEl;e&&(e.placeholder=this.props.placeholder||"")}},{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&this.setState({value:this.props.value||(this.props.multiple?[]:null)})}},{key:"getTagProps",value:function(e,t){return{interactive:!0,intent:this.props.highlightFirstTag&&0===t?h.a.PRIMARY:h.a.NONE}}},{key:"getItemsFromQuery",value:function(e,t){var a=e.toUpperCase().split(/[/\-,;]/);if(a.length<1)return[];for(var n=[],i=function(e){var i=a[e].trim();if(!i)return"continue";var r=t.find((function(e){return e.label===i}));if(!r)throw Error("Item n\xe3o encontrado: "+i);n.push(r)},r=0;r<a.length;r++)i(r);return n}},{key:"addItemsFromQuery",value:function(e,t){var a,n=this;try{if(a=this.getItemsFromQuery(e,this.props.items),t&&1===a.length)return!1}catch(i){return!1}return(a=a.filter((function(e){return n.state.value.indexOf(e)<0}))).forEach((function(e){return n.state.value.push(e)})),this.setState({value:this.state.value,errors:{distribuicao:""}}),this.props.onChange&&this.props.onChange(this.state.value),!0}},{key:"createNewItemRenderer",value:function(e,t,a){try{var n=this.getItemsFromQuery(e,this.props.items);if(1===n.length)return null;var r="Adicionar "+n.map((function(e){return e.label})).join(this.state.separator);return i.a.createElement(p.j,{text:r})}catch(o){return null}}},{key:"handleFieldClick",value:function(){this.selectRef&&this.selectRef.current&&this.selectRef.current.input&&this.selectRef.current.input.focus()}},{key:"handleBlur",value:function(e){var t=this,a=e.target;setTimeout((function(){var e=a.value;e&&(t.addItemsFromQuery(e,!1),t.setState({query:" "}))}),100)}},{key:"renderItem",value:function(e,t){var a,n,r,o=t.modifiers,s=t.handleClick;return o.matchesPredicate?("string"==typeof e?(a=e,r=e,n=""):(a=e.id,r=e.text,n=e.label),i.a.createElement(p.j,{active:o.active,key:a,label:n,text:r,onClick:s,shouldDismissPopover:!1})):null}},{key:"renderTag",value:function(e){return"string"==typeof e?i.a.createElement("div",null,e):i.a.createElement("div",{title:e?e.text:""},e?e.label||e.text:"")}},{key:"renderInputValue",value:function(e){return"string"==typeof e?e:e.label||e.text||e.id}},{key:"handleTagRemove",value:function(e,t){var a=this.state.value[t],n=this.deselectItem(a);this.props.onChange&&this.props.onChange(n)}},{key:"isItemSelected",value:function(e){return this.state.value.indexOf(e)>=0}},{key:"selectItem",value:function(e){var t=[].concat(Object(x.a)(this.state.value),[e]);return this.setState({value:t}),t}},{key:"deselectItem",value:function(e){var t=this.state.value.filter((function(t){return t!==e}));return this.setState({value:t}),t}},{key:"filterItems",value:function(e){if(!(e=D(e).toUpperCase().trim()))return this.props.items;var t=this.props.items.map((function(t){var a,n="";"string"==typeof t?a=t:(a=t.label||"",n=t.text||"");var i=a.toUpperCase().indexOf(e);return i>=0?(i>0&&(i=1),{item:t,text:n,index:i}):{item:t,text:n,index:i=(i=D(n).toUpperCase().indexOf(e))>=0?1:-1}})).filter((function(e){return e.index>=0})),a=this.props.multiple?this.state.value||[]:[this.state.value];return(t=t.filter((function(e){return a.indexOf(e.item)<0}))).sort((function(e,t){return e.index!=t.index?e.index-t.index:e.text<t.text?-1:1})).map((function(e){return e.item}))}},{key:"filterItem",value:function(e,t){return e=e.toUpperCase(),(t.id+t.label+t.text).toUpperCase().indexOf(e)>=0}},{key:"getItemsNotSelected",value:function(e){var t=this;return e.filter((function(e){return t.state.value.indexOf(e)<0}))}},{key:"handleQueryChange",value:function(e){this.setState({query:e})}},{key:"handleSelect",value:function(e){var t;t=this.isItemSelected(e)?this.deselectItem(e):this.selectItem(e),this.props.onChange&&this.props.onChange(t)}},{key:"handleSelectSimple",value:function(e){this.setState({value:e}),this.props.onChange&&this.props.onChange(e)}},{key:"handleClearOption",value:function(){this.handleSelectSimple(null)}},{key:"handleTagInputKeyUp",value:function(e){this.state.error&&this.setState({error:""});var t=e.target.value;"Enter"===e.key&&this.addItemsFromQuery(t,!0)&&this.setState({query:""})}}]),a}(i.a.PureComponent);var T=function(e){return i.a.createElement(k,e,i.a.createElement("textarea",{cols:e.cols,rows:e.rows,placeholder:e.placeholder,disabled:e.disabled,onChange:e.onChange,onClick:e.onClick,onFocus:e.onFocus,onBlur:e.onBlur,required:!0,pattern:".*\\S+",defaultValue:e.value}))};var N=function(e){var t=Object(s.a)(Object(s.a)({},e.style),{},{display:"flex",flexDirection:["column","vertical"].includes(e.direction)||e.vertical?"column":"row"});return i.a.createElement("div",{style:t},e.children)};var A=function(e){var t={width:e.width,height:e.height,marginLeft:parseInt(e.width)<0?e.width:void 0,marginTop:parseInt(e.height)<0?e.height:void 0};return i.a.createElement("div",{className:"spacer",style:t})},M=a(24),P=a(81),B=a.n(P),L=a(82),U=a.n(L),q=[{label:"DEUC",text:"Divis\xe3o dos Estados Unidos"},{label:"DCAN",text:"Divis\xe3o do Canad\xe1"},{label:"SGAP",text:"Secretaria Geral Pol\xedtica"},{label:"DECIN",text:"Departamento de Assuntos Interamericanos"},{label:"DMAC",text:"Divis\xe3o do M\xe9xico e Am\xe9rica Central"}],z=[{label:"ABRE",text:"Associa\xe7\xe3o Brasileira de Expatriados"},{label:"AINF",text:"Tecnologia da Informa\xe7\xe3o"},{label:"APES",text:"Pessoal"},{label:"PEXT",text:"Pol\xedtica externa"},{label:"POIN",text:"Pol\xedtica interna"},{label:"BRAS",text:"Brasil"},{label:"EUA",text:"Estados Unidos da Am\xe9rica"},{label:"CANA",text:"Canad\xe1"}],_=[{id:"USABREM",text:"Brasemb Washington"},{id:"CANBREM",text:"Brasemb Ottawa"},{id:"FRABREM",text:"Brasemb Paris"},{id:"ARGBREM",text:"Brasemb Buenos Aires"},{id:"NYCBRCG",text:"Consbras Nova York"},{id:"MIACGBR",text:"Consbras Miami"},{id:"LISCGBR",text:"Consbras Lisboa"},{id:"PORBREM",text:"Brasemb Lisboa"},{id:"ONUBREM",text:"DELBRASONU"},{id:"REBRASFAO",text:"REBRASFAO"},{id:"PERBREM",text:"Brasemb Lima"},{id:"RUSBREM",text:"Brasemb Moscou"},{id:"CHIBREM",text:"Brasemb Pequim"},{id:"EGIBREM",text:"Brasemb Cairo"},{id:"URUBREM",text:"Brasemb Montevid\xe9u"},{id:"SAFBREM",text:"Brasemb Pret\xf3ria"}].sort((function(e,t){return e.text<t.text?-1:1})),F=["Ostensivo","Reservado","Secreto","Ultrassecreto"].map((function(e){return{id:e.charAt(0).toLowerCase(),text:e.trim()}})),G=[{id:1,text:"Normal"},{id:2,text:"Urgente"},{id:3,text:"Urgent\xedssimo"}],V={tel:[],det:[],cit:[]},Y=[5,10,15,20,25].map((function(e){return{id:e.toString(),text:e+" anos"}})),Q=["Lei 12.527/2011 Art. 23 Inciso I","Lei 12.527/2011 Art. 23 Inciso II","Lei 12.527/2011 Art. 23 Inciso III","Lei 12.527/2011 Art. 23 Inciso IV","Lei 12.527/2011 Art. 23 Inciso V","Lei 12.527/2011 Art. 23 Inciso VI","Lei 12.527/2011 Art. 23 Inciso VII","Lei 12.527/2011 Art. 23 Inciso VIII","Lei 12.527/2011 Art. 24 \xa7 2\xba"].map((function(e,t){return{id:t+1,text:e}})),K=[{id:"CSNU-GRUPO",text:"Pa\xedses integrantes do CSNU",grupo:!0},{id:"CGEUA-GRUPO",text:"Consulados nos Estados Unidos",grupo:!0},{id:"AMER-GRUPO",text:"Embaixadas nos pa\xedses das Am\xe9ricas",grupo:!0},{id:"AMSUL-GRUPO",text:"Embaixadas nos pa\xedses da Am\xe9rica do Sul",grupo:!0},{id:"EUROPA-GRUPO",text:"Embaixadas na Europa",grupo:!0}],H=[{nome:"Renato Andrade",unidade:"SGAD",login:"renato.andrade"},{nome:"Lucas Chalella",unidade:"DINFOR",login:"lucas.chalella"},{nome:"Fabio Cereda",unidade:"DINFOR",login:"fabio.cereda"}],W="USABREM",X={privados:["Relato de reuni\xe3o","Relato de discurso","Nova senha de usu\xe1rio","DRF para pagamento"],publicosUnidade:["Nova senha de usu\xe1rio","Aviso de bloqueio de esta\xe7\xe3o","An\xfancio de novo sistema ou vers\xe3o","An\xfancio de novo servi\xe7o","Modelo com nome realmente longo para ver se quebra a linha na lista"],publicos:["Solicita\xe7\xe3o de documento","Solicita\xe7\xe3o de passaporte","Planilha de RF","Envio de presta\xe7\xe3o de contas","Pedido de SRTP","Envio de recursos","Envio de DRF","Solicita\xe7\xe3o de e-consular","Abertura de ticked no SERPRO"]},J={unidades:q,postos:_,indexadores:z,basesLegais:Q,grupos:K,propositos:V,grausSigilo:F,prazos:Y};function Z(e,t){U.a.get("/data/".concat(e,".json")).then((function(e){var a=e.data;t(a)}))}function $(e){return{label:e.codigoUnidade,text:e.descricao.match(/\((.+)\)/)[1]}}function ee(e){return{id:e.codigoUnidade,text:e.noPostoAbreviado}}function te(e){return{id:e.idProposito,text:e.descricao}}function ae(e){for(var t=e.length-1;t>=0;t--)e.pop()}function ne(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return!0};ae(t),e.filter(n).map(a).forEach((function(e){return t.push(e)}))}Z("unidades",(function(e){J.unidades=e.grupo_unidade,ne(e.grupo_unidade,q,$)})),Z("postos",(function(e){J.postos=e.grupo_unidade,ne(e.grupo_unidade,_,ee)})),Z("indexadores",(function(e){var t=e.classificacao.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{label:e.sigla,text:e.nameClassificacao.match(/\-\s(.+)$/)[1]})}));t=t.sort((function(e,t){return e.tipoClassificacao<t.tipoClassificacao?-1:e.tipoClassificacao>t.tipoClassificacao?1:e.text<t.text?-1:1})),J.indexadores=t,ne(t,z)})),Z("baselegal",(function(e){J.basesLegais=e.BaseLegal,ae(Q),e.BaseLegal.map((function(e){return{id:e.cmpCoBaseLegal,text:e.cmpDcBaseLegal}})).forEach((function(e){return Q.push(e)}))})),Z("propositos",(function(e){J.propositos=e.propositos,ne(e.propositos.filter((function(e){return e.tel})),V.tel,te),ne(e.propositos.filter((function(e){return e.det})),V.det,te),ne(e.propositos.filter((function(e){return e.cit})),V.cit,te)}));var ie=60,re={getDateFormatted:function(e,t){return B()(e).format(t)},getCurrentDateFormatted:function(e){return re.getDateFormatted(new Date,e)}};function oe(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",n=e.find((function(e){return e[a]==t}));return n}function se(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text",i=oe(e,t,a);return i?i[n]||i:""}function le(e){return se(_,e)}var ce={destinatarioDet:"Destinat\xe1rio do desptel",destinatariosCit:"Destinat\xe1rios da circtel",rtm:"Retransmiss\xe3o",distribuicao:"Distribui\xe7\xe3o",indexadores:"Indexadores",indice:"\xcdndice",carater:"Car\xe1ter",prioridade:"Prioridade",referencias:"Refer\xeancias",proposito:"Prop\xf3sito",redator:"Iniciais do redator",resumo:"Resumo",prazoSigilo:"Prazo de sigilo",baseLegalSigilo:"Base legal",autoridade:"Autoridade classificadora",cargo:"Cargo",razoes:"Raz\xf5es para classifica\xe7\xe3o",texto:"Corpo do texto"},ue=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(l.a)(this,e),this.titulo=t.titulo||"",this.tipo=t.tipo||"",this.destinatarioDet=t.destinatarioDet,this.destinatariosCit=t.destinatariosCit||[],this.rtm=t.rtm||[],this.rtmClic=t.rtmClic||[],this.distribuicao=t.distribuicao||[],this.indexadores=t.indexadores||[],this.indice=t.indice||"",this.carater=t.carater,this.prioridade=t.prioridade,this.referencias=t.referencias||[],this.proposito=t.proposito||"",this.redator=t.redator||"",this.resumo=t.resumo||"",this.prazoSigilo=t.prazoSigilo||"",this.baseLegalSigilo=t.baseLegalSigilo||"",this.autoridade=t.autoridade||"",this.cargo=t.cargo||"",this.razoes=t.razoes||"",this.texto=t.texto||"",this._changed=!1,Object.seal(this)}return Object(c.a)(e,[{key:"setProp",value:function(e,t){var a;return a=t,Array.isArray(a)?t=t.map(de):function(e){return e===Object(e)}(t)&&(t=de(t)),null===t&&console.error("setProp recebeu argumento value null com key "+e),this[e]=t,this._changed=!0,this}},{key:"setProps",value:function(e,t){if("string"===typeof e&&void 0!==t)this.setProp(e,t);else for(var a in e)this.setProp(a,e[a]);return this}},{key:"foiAlterada",value:function(){return this._changed}},{key:"marcarComoNaoAlterada",value:function(){this._changed=!1}},{key:"validate",value:function(e){var t=this,a={o:7,r:5,s:3,u:3},n={o:5,r:3,s:0,u:0},i={distribuicao:function(e){var n=a[t.carater||"o"];return e.length>n?"Indique no m\xe1ximo ".concat(n," unidades"):""},indexadores:function(e){return e.length>5?"Indique at\xe9 ".concat(5," indexadores"):""},destinatariosCit:function(e){return e.length>3?"Indique no m\xe1ximo ".concat(3," postos"):""},rtm:function(e){return!n[t.carater||"o"]&&e.length?"N\xe3o \xe9 poss\xedvel retransmitir expedientes secretos ou ultrassecretos":"det"===t.tipo&&t.destinatarioDet&&e.indexOf(t.destinatarioDet)>=0?"O destinat\xe1rio do desptel n\xe3o pode ser inclu\xeddo na retransmiss\xe3o":e.length>3?"Indique no m\xe1ximo ".concat(3," postos"):""},rtmClic:function(e){if(!e||!e.length)return"";var a=e.length;return a&&["s","u"].includes(t.carater)?"N\xe3o \xe9 poss\xedvel retransmitir expedientes secretos ou ultrassecretos":a>1?"\xc9 permitida a retransmiss\xe3o para apenas um grupo":""},referencias:function(e){return e.length>3?"Indique no m\xe1ximo ".concat(3," refer\xeancias"):""},indice:function(e){return me(e,120,"\xedndice")},resumo:function(e){return me(e,500,"resumo")},razoes:function(e){return me(e,500,"razoes")}},r={};if(e){var o=i[e];return o?o(this[e]):""}for(var s in i){var l=i[s];if(!l)break;var c=l(this[s]);c&&(r[s]=c)}return r}},{key:"validarParaExpedir",value:function(){var e=this,t=[],a=[];switch(this.tipo.charAt(0).toLowerCase()){case"d":a=["destinatarioDet"];break;case"c":this.destinatariosCit.length<2&&t.push("Destinat\xe1rios da circtel: indique no m\xednimo dois destinat\xe1rios")}for(var n in a=[].concat(Object(x.a)(a),["distribuicao","indexadores","indice","carater","prioridade","redator","texto"]),this.carater&&"o"!==this.carater.charAt(0).toLowerCase()&&(a=[].concat(Object(x.a)(a),["prazoSigilo","baseLegalSigilo","razoes"])),a.forEach((function(a){var n=e[a];n&&n.length||t.push("".concat(ce[a],": campo obrigat\xf3rio"))})),this){var i=this.validate(n);i&&t.push("".concat(ce[n],": ").concat(i))}return t}},{key:"mergeWith",value:function(e){return this.tipo=this.tipo||e.tipo,this.destinatarioDet=this.destinatarioDet||e.destinatarioDet,this.destinatariosCit=Object(M.b)(this.destinatariosCit,e.destinatariosCit),this.rtm=Object(M.b)(this.rtm,e.rtm),this.rtmClic=this.rtmClic||e.rtmClic,this.distribuicao=Object(M.b)(this.distribuicao,e.distribuicao),this.indexadores=Object(M.b)(this.indexadores,e.indexadores),this.indice=he(this.indice,e.indice),this.carater=this.carater||e.carater,this.prioridade=this.prioridade||e.prioridade,this.referencias=Object(M.b)(this.referencias,e.referencias),this.proposito=this.proposito||e.proposito,this.resumo=he(this.resumo,e.resumo),this.redator=e.redator||this.redator,this.prazoSigilo=this.prazoSigilo||e.prazoSigilo,this.baseLegalSigilo=this.baseLegalSigilo||e.baseLegalSigilo,this.autoridade=this.autoridade||e.autoridade,this.cargo=this.cargo||e.cargo,this.razoes=he(this.razoes,e.razoes),this.texto=he(this.texto,e.texto),this._changed=!0,this}}]),e}();function de(e){return"string"===typeof e?e:e.id||e.label}function me(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"campo";if(e)return e.length>t?"O ".concat(a," deve ter at\xe9 ").concat(t," caracteres"):void 0}function he(e,t){return e?t?[e,t].join(" "):e:t}ue.mergeMinutas=function(e,t){var a=new ue;return a.setProps({tipo:e.tipo||t.tipo,destinatarioDet:e.destinatarioDet||t.destinatarioDet,destinatariosCit:Object(M.b)(e.destinatariosCit,t.destinatariosCit),rtm:Object(M.b)(e.rtm,t.rtm),rtmClic:e.rtmClic||t.rtmClic,distribuicao:Object(M.b)(e.distribuicao,t.distribuicao),indexadores:Object(M.b)(e.indexadores,t.indexadores),indice:he(e.indice,t.indice),carater:e.carater||t.carater,prioridade:e.prioridade||t.prioridade,referencias:Object(M.b)(e.referencias,t.referencias),proposito:e.proposito||t.proposito,redator:e.redator||t.redator,resumo:he(e.resumo,t.resumo),prazoSigilo:e.prazoSigilo||t.prazoSigilo,baseLegalSigilo:e.baseLegalSigilo||t.baseLegalSigilo,autoridade:e.autoridade||t.autoridade,cargo:e.cargo||t.cargo,razoes:he(e.razoes,t.razoes),texto:he(e.texto,t.texto)}),a},ue.prepararArquivoExpedicao=function(e){return[{id:null,func:function(){var t="";switch(e.tipo){case"tel":t="De ".concat(le(W)," para Exteriores");break;case"det":t="Da SERE para ".concat(le(W));break;case"cit":t="Da SERE para Circular Telegr\xe1fica"}return t+=" em ".concat(re.getCurrentDateFormatted("DD/MM/YYYY"),"\r\n")}},{id:"CODI",func:function(){return""}},{id:"CARAT",func:function(){return t=e.carater,se(F,t).toUpperCase();var t}},{id:"DEXP",func:function(){if(!e.prazoSigilo)return null;var t=new Date,a=new Date(t.getFullYear()+Number(e.prazoSigilo),t.getMonth(),t.getDate());return re.getDateFormatted(a,"DD/MM/YYYY")}},{id:"BLEGIS",func:function(){if(!e.baseLegalSigilo)return"";var t=se(Q,e.baseLegalSigilo);return console.log(t),t=t.replace("Lei 12.527/2011 ","")}},{id:"PRIOR",func:function(){return t=e.prioridade,se(G,t).toUpperCase();var t}},{id:"DISTR",func:function(){return e.distribuicao.join("/")}},{id:"DESCR",func:function(){return e.indexadores.join("-")}},{id:"RTM",func:function(){return e.rtm?e.rtm.join(",").toUpperCase():""}},{id:"RTM/CLIC",func:function(){return e.rtmClic}},{id:"REF/ADIT",func:function(){var t=e.referencias,a=[],n=(new Date).getFullYear(),i=/(TEL|DESPTEL|DET|CIRCTEL|CIT)\s(\d{1,6})([\s|/][\d]{4}?)*$/i;return t&&t.length?(t=t.map((function(e){return"undefined"===typeof(a=e.match(i))[3]?a[3]="CIT"!==a[1]?n:"":a[3]=parseInt(a[3].replace("/","")),a.splice(1).join(" ").trim()}))).join(","):null}},{id:"PROPSTO",func:function(){return e.proposito||""}},{id:"CATEG",func:function(){return"MG"}},{id:"FMT",func:function(){return"REML"}},{id:null,func:function(){return"\r\n//\r\n".concat(e.indice,"\r\n//\r\n")}},{id:null,func:function(){return le(e.rtmClic)}},{id:null,func:function(){return e.rtm.length>0?"Retransmiss\xe3o autom\xe1tica para ".concat(function(e){if(!e.length)return"";for(var t=e.map((function(e){return le(e)})),a="",n=0;n<t.length;n++){if(n)a+=n<t.length-1?", ":" e ";a+=t[n]}return a}(e.rtm)," \r\n"):""}},{id:"RESUMO",func:function(){return"\r\n".concat(e.resumo||"")}},{id:null,func:function(){var t=function(e,t){var a,n=[],i=0;do{var r=e.substr(i,t);if(i+t>=e.length){n.push(r.trim());break}var o=void 0;for(o=r.length-1;o>=0&&(" "!==(a=r.charAt(o))&&"\n"!==a);o--);o?(r=r.substr(0,o),i+=o):i+=t,n.push(r.trim())}while(i<e.length);return n}(e.texto.replace(/(\u201c|\u201d)/g,'"'),ie).join("\r\n"),a=(e.redator||"").toUpperCase();return"\r\n\r\n".concat(t,"\r\n\r\n").concat(a)}}].map((function(e){var t=e.id?"".concat(e.id,"="):"",a=e.func();return a&&(t+=a),t})).join("\r\n")},ue.prepararObjetoExpedicao=function(e){var t="det"===e.tipo?e.rtm:e.destinatariosCit;return t=t.map((function(e){return oe(J.postos,e,"codigoUnidade")})),{classificacao:e.indexadores.map((function(e){return oe(J.indexadores,e,"sigla")})),coBaseLegal:e.baseLegalSigilo,coPrioridade:e.prioridade,destinatario:"det"===e.tipo?[oe(J.postos,e.destinatarioDet,"codigoUnidade")]:[],distribuicao:e.distribuicao.map((function(e){return oe(J.unidades,e,"codigoUnidade")})),dsBaseLegal:se(Q,e.baseLegalSigilo,"id"),dtOutras:"",idCarater:e.carater,noBaseLegal:e.baseLegalSigilo,prazoSigilo:e.prazoSigilo,sgCategoria:"MG",tpDocumento:e.tipo.toUpperCase(),dsResumo:(e.resumo||"").replace(/\n/g,"\r\n"),dsIndice:(e.indice||"").replace(/\n/g,"\r\n"),dsSiglaNome:e.redator,sgFormatoTexto:"REML",dsTexto:e.texto.replace(/\n/g,"\r\n"),noCarater:se(J.grausSigilo,e.carater,"id"),noPrioridade:se(G,e.prioridade),dsRetransmissao:"det"===e.tipo?t:"",referencia:e.referencias.join(", "),idCategoria:1,noLogin:e.dsNome,dsDestinatario:t,coPrazoBaseLegal:e.prazoSigilo,coProposito:e.proposito,noProposito:se(J.propositos,e.proposito,"idProposito","descricao")}};var pe=ue;function fe(e,t){return t?e.map((function(e){return t.find((function(t){return(t.id||t.label)===e}))})).filter((function(e){return Boolean(e)})):e.map((function(e){return{id:e,label:e,text:e}}))}function ve(e){if(!e)throw Error("Constructor de converterMinuta deve receber um objeto Minuta como par\xe2metro");return{tipo:e.tipo,destinatarioDet:_.find((function(t){return t.id===e.destinatarioDet})),destinatariosCit:fe(e.destinatariosCit,_),rtm:fe(e.rtm,_),distribuicao:fe(e.distribuicao,q),indexadores:fe(e.indexadores,z),indice:e.indice,carater:e.carater,prioridade:e.prioridade,referencias:fe(e.referencias),proposito:e.proposito,redator:e.redator,resumo:e.resumo,prazoSigilo:e.prazoSigilo,baseLegalSigilo:e.baseLegalSigilo,autoridade:e.autoridade,cargo:e.cargo,razoes:e.razoes}}var ge=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(l.a)(this,a),n=t.call(this);var i=ve(e.minuta);return n.state=Object(s.a)({errors:{},minuta:e.minuta},i),n.createNewReferenciaFromQuery=n.createNewReferenciaFromQuery.bind(Object(u.a)(n)),n.minutaEClassificada=n.minutaEClassificada.bind(Object(u.a)(n)),n.handleClickTipo=n.handleClickTipo.bind(Object(u.a)(n)),n.handleButtonClick=n.handleButtonClick.bind(Object(u.a)(n)),n.handleIndiceChange=n.handleIndiceChange.bind(Object(u.a)(n)),n.handleResumoChange=n.handleResumoChange.bind(Object(u.a)(n)),n.handleRazoesChange=n.handleRazoesChange.bind(Object(u.a)(n)),n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.handleBlurRedator=n.handleBlurRedator.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){if(e.minuta!==this.props.minuta){var t=ve(this.props.minuta);this.setState(Object(s.a)({minuta:this.props.minuta},t))}}},{key:"createNewReferenciaFromQuery",value:function(e){var t=(e=e.toUpperCase()).match(/^(TEL|DET|DESPTEL|CIT|CIRCTEL)\s+((\d+)(\/(\d+))*)$/);if(!t)return null;var a=(new Date).getFullYear(),n=t[5];if(n>99&&n<1900)return null;void 0===n?n=a:(n=parseInt(n))<100&&(n+=n<=a-2e3?2e3:1900);var i=t[1];"DESPTEL"===i&&(i="DET"),"CIRCTEL"===i&&(i="CIT");var r=t[3],o="".concat(i," ").concat(r);return"CIT"!==i&&(o=o+"/"+n),{id:o,label:o}}},{key:"renderItemPosto",value:function(e){return i.a.createElement(p.j,{key:"",label:e.label,text:e.label,shouldDismissPopover:!1})}},{key:"minutaEClassificada",value:function(){var e=this.state.carater;return e&&"o"!==e}},{key:"handleChange",value:function(e){var t=this;return function(a){var n=a;a&&a.target&&void 0!==a.target.value&&(n=a.target.value);var i={};i[e]=n,t.setState(i),t.props.minuta.setProp(e,n),setTimeout((function(){return t.validateValue(e,n)}),10)}}},{key:"handleClickTipo",value:function(e){var t=this;return function(a){if(t.setState({tipo:e}),t.props.minuta.setProp("tipo",e),t.state.proposito){var n=V[e].find((function(e){return e.id===t.state.proposito}));n&&n[e]||(t.setState({proposito:null}),t.props.minuta.setProp("proposito",""))}}}},{key:"validateValue",value:function(e){var t=this.props.minuta.validate();this.setState({errors:t})}},{key:"handleButtonClick",value:function(e){var t=this.state.errorMsg?"":"Deu problema";this.setState({errorMsg:t})}},{key:"checkTextLength",value:function(e,t){var a=t.maxLength,n=t.varName,i=t.varLabel,r=e.target.value,o="";if(r&&r.length>a&&(o="O ".concat(i||n," deve ter at\xe9 ").concat(a," caracteres")),o!==this.state.errors[n]){var l=Object(s.a)({},this.state.errors);l[n]=o,this.setState({errors:l})}}},{key:"handleIndiceChange",value:function(e){this.handleTextFieldChange(e,"indice")}},{key:"handleResumoChange",value:function(e){this.handleTextFieldChange(e,"resumo")}},{key:"handleRazoesChange",value:function(e){this.handleTextFieldChange(e,"razoes")}},{key:"handleTextFieldChange",value:function(e,t){var a=this.state.errors[t];this.props.minuta.setProp(t,e.target.value);var n=this.props.minuta.validate(t);if(a!==n){var i=Object(s.a)({},this.state.errors);i[t]=n,this.setState({errors:i})}}},{key:"handleBlurRedator",value:function(e){if(this.state.redator){var t=this.state.redator.toUpperCase();this.state.minuta.setProp("redator",t),this.setState({redator:t,minuta:this.state.minuta})}}},{key:"render",value:function(){return i.a.createElement("div",{className:"cabecalho-container custom-scroll"},i.a.createElement("div",Object(S.a)({className:"property-bar"},"className","cabecalho"===this.props.selectedTab?"show":"hide"),i.a.createElement(p.b,{fill:!0},i.a.createElement(p.a,{active:"tel"===this.state.tipo,text:"Telegrama",icon:"document",outlined:!1,alignText:O.a.CENTER,onClick:this.handleClickTipo("tel")}),i.a.createElement(p.a,{active:"det"===this.state.tipo,text:"Desptel",icon:"share",outlined:!1,alignText:O.a.CENTER,onClick:this.handleClickTipo("det")}),i.a.createElement(p.a,{active:"cit"===this.state.tipo,text:"Circtel",icon:"feed",outlined:!1,alignText:O.a.CENTER,onClick:this.handleClickTipo("cit")})),i.a.createElement(A,{height:8}),i.a.createElement(R,{visible:"det"===this.state.tipo,label:"Destinat\xe1rio do desptel",itemRenderer:this.renderItemPosto,items:_,multiple:!1,value:this.state.destinatarioDet,onChange:this.handleChange("destinatarioDet")}),i.a.createElement(R,{visible:"cit"===this.state.tipo,label:"Destinat\xe1rios da circtel",items:[].concat(Object(x.a)(_),Object(x.a)(K)),multiple:!0,error:this.state.errors.destinatariosCit,value:this.state.destinatariosCit,onChange:this.handleChange("destinatariosCit")}),i.a.createElement(R,{label:"Distribui\xe7\xe3o",items:q,multiple:!0,highlightFirstTag:!0,value:this.state.distribuicao,error:this.state.errors.distribuicao,resetOnSelect:!0,onChange:this.handleChange("distribuicao")}),i.a.createElement(R,{visible:"det"===this.state.tipo||"tel"===this.state.tipo,label:"Retransmiss\xe3o",items:_,multiple:!0,error:this.state.errors.rtm,value:this.state.rtm,onChange:this.handleChange("rtm")}),i.a.createElement(R,{visible:"det"===this.state.tipo||"tel"===this.state.tipo,label:"Retransmiss\xe3o para grupo",items:K,multiple:!0,error:this.state.errors.rtmClic,value:this.state.rtmClic,onChange:this.handleChange("rtmClic")}),i.a.createElement(R,{label:"Indexadores",items:z,multiple:!0,separator:"-",value:this.state.indexadores,error:this.state.errors.indexadores,onChange:this.handleChange("indexadores")}),i.a.createElement(N,null,i.a.createElement(I,{label:"Car\xe1ter",addBlankOption:!0,items:F,value:this.state.carater,onChange:this.handleChange("carater")}),i.a.createElement(A,{width:8}),i.a.createElement(I,{label:"Prioridade",addBlankOption:!0,items:G,value:this.state.prioridade,onChange:this.handleChange("prioridade")})),i.a.createElement(R,{label:"Refer\xeancias",items:[],multiple:!0,value:this.state.referencias,createNewItemFromQuery:this.createNewReferenciaFromQuery,error:this.state.errors.referencias,onChange:this.handleChange("referencias")}),i.a.createElement(T,{label:"\xcdndice",rows:"3",onChange:this.handleIndiceChange,onBlur:this.handleChange("indice"),error:this.state.errors.indice,value:this.state.indice}),i.a.createElement(N,null,i.a.createElement(I,{label:"Prop\xf3sito",addBlankOption:!0,style:{flex:3},items:V[this.state.tipo]||[],value:this.state.proposito,onChange:this.handleChange("proposito")}),i.a.createElement(A,{width:8}),i.a.createElement(y,{label:"Iniciais redator",style:{flex:2},value:this.state.redator,onChange:this.handleChange("redator"),onBlur:this.handleBlurRedator}))),i.a.createElement("div",Object(S.a)({className:"property-bar"},"className","resumo"===this.props.selectedTab?"show":"hide"),i.a.createElement(T,{label:"Resumo",rows:"10",placeholder:"Digite aqui o resumo...",onChange:this.handleResumoChange,onBlur:this.handleChange("resumo"),error:this.state.errors.resumo,value:this.state.resumo})),i.a.createElement("div",Object(S.a)({className:"property-bar"},"className","tci"===this.props.selectedTab?"show":"hide"),i.a.createElement(N,{direction:"row"},i.a.createElement(I,{label:"Car\xe1ter",addBlankOption:!0,items:F,value:this.state.carater,onChange:this.handleChange("carater")}),i.a.createElement(A,{width:8}),i.a.createElement(I,{label:"Prazo",disabled:!this.minutaEClassificada(),addBlankOption:!0,items:Y,value:this.state.prazoSigilo,onChange:this.handleChange("prazoSigilo")})),i.a.createElement(I,{label:"Base legal",disabled:!this.minutaEClassificada(),addBlankOption:!0,items:Q,value:this.state.baseLegalSigilo,onChange:this.handleChange("baseLegalSigilo")}),i.a.createElement(T,{label:"Raz\xf5es para classifica\xe7\xe3o",disabled:!this.minutaEClassificada(),rows:"5",onChange:this.handleRazoesChange,onBlur:this.handleChange("razoes"),error:this.state.errors.razoes,value:this.state.razoes}),i.a.createElement(y,{label:"Autoridade classificadora",disabled:!this.minutaEClassificada(),value:this.minutaEClassificada()?this.state.autoridade:"",onChange:this.handleChange("autoridade")}),i.a.createElement(y,{label:"Cargo da autoridade classificadora",disabled:!this.minutaEClassificada(),value:this.minutaEClassificada()?this.state.cargo:"",onChange:this.handleChange("cargo")})),i.a.createElement("div",Object(S.a)({className:"property-bar"},"className","anexos"===this.props.selectedTab?"show":"hide"),"Nada aqui por enquanto"))}}]),a}(i.a.Component),be=(a(182),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this)).state={selectedTab:"cabecalho"},n.handleTabChange=n.handleTabChange.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"handleTabChange",value:function(e){this.setState({selectedTab:e})}},{key:"render",value:function(){return i.a.createElement("div",{className:"mascara-panel"},i.a.createElement(p.t,{className:"mascara-tab",animate:!0,horizontal:!0,fill:!0,onChange:this.handleTabChange},i.a.createElement(p.s,{id:"cabecalho",title:"Cabe\xe7alho"}),i.a.createElement(p.s,{id:"resumo",title:"Resumo"}),i.a.createElement(p.s,{id:"tci",title:"TCI"}),i.a.createElement(p.s,{id:"anexos",title:"Anexos"})),i.a.createElement(ge,{selectedTab:this.state.selectedTab,minuta:this.props.minuta}))}}]),a}(i.a.PureComponent));a(183),a(77);var Ce=function(e){var t=e.position||"left",a=["slider"];return a.push(e.show?"slide-in":"slide-out"),a.push(t),i.a.createElement("div",{className:a.join(" ")},e.children)};a(184);var Ee=function(e){return i.a.createElement("div",{className:"slider-container"},e.children)},Se=(a(185),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=i.a.createElement(p.e,{icon:"chevron-right"});return i.a.createElement(p.h,null,i.a.createElement(p.j,{icon:"folder-open",text:"Carregar modelo",onClick:this.props.onClick("modelos")}),i.a.createElement(p.j,{icon:"add-to-folder",text:"Salvar como modelo...",onClick:this.props.onClick("salvarModelo")}),i.a.createElement(p.j,{icon:"duplicate",text:"Salvar uma c\xf3pia...",onClick:this.props.onClick("salvarCopia")}),i.a.createElement(p.i,null),i.a.createElement(p.j,{icon:"print",text:"Imprimir"}),i.a.createElement(p.i,null),i.a.createElement(p.j,{icon:"pin",text:"Salvar esta vers\xe3o...",onClick:this.props.onClick("salvarVersao")}),i.a.createElement(p.j,{icon:"comparison",text:"Ver vers\xf5es",onClick:this.props.onClick("versoes")}),i.a.createElement(p.j,{icon:"history",text:"Hist\xf3rico",labelElement:e,onClick:this.props.onClick("historico")}),i.a.createElement(p.i,null),i.a.createElement(p.j,{icon:"small-tick",text:"Rubricas",labelElement:e,onClick:this.props.onClick("rubricas")}),i.a.createElement(p.j,{icon:"document-share",text:"Despachar",labelElement:e,onClick:this.props.onClick("despachos")}),i.a.createElement(p.j,{icon:"send-message",text:"Expedir",labelElement:e,onClick:this.props.onClick("expedir")}))}}]),a}(i.a.PureComponent)),xe=a(1);a(186);var Oe=function(e){return i.a.createElement("div",{className:"submenu-panel"},i.a.createElement("div",{className:"submenu-panel-title"},i.a.createElement(p.a,{minimal:!0,onClick:e.onClick},i.a.createElement(p.e,{icon:"chevron-left"})),e.title),i.a.createElement("div",{className:"submenu-panel-content custom-scroll"},e.children))};var ke=function(e){return i.a.createElement("div",{style:Object(s.a)({position:"relative"},e.style)},i.a.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,width:"100%",marginTop:e.spinnerTop||32,textAlign:"center",display:e.spinner?"block":"none"}},i.a.createElement(p.r,{size:p.r.SIZE_STANDARD})),i.a.createElement("div",{style:{opacity:e.spinner?.5:1}},e.children))};a(187);var ye=function(e){return i.a.createElement("div",null,i.a.createElement("div",{className:"form-field-label"},e.label),e.children,i.a.createElement("div",{className:"form-field-message"},e.message))},Ie=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this)).state={usuario:e.selected},n.filterItems=n.filterItems.bind(Object(u.a)(n)),n.renderItem=n.renderItem.bind(Object(u.a)(n)),n.handleItemSelect=n.handleItemSelect.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"renderSelectedItem",value:function(e){if(!e)return"";var t=e.nome,a=e.unidade,n=e.login;return"".concat(t," (").concat(a,") - ").concat(n)}},{key:"renderItem",value:function(e,t){var a=t.modifiers,n=t.handleClick;if(!a.matchesPredicate)return null;var r=e.nome,o=e.unidade,s=e.login;return i.a.createElement(p.j,{active:a.active,key:s,label:s,text:"".concat(r," (").concat(o,")"),onClick:n,shouldDismissPopover:!1})}},{key:"filterItems",value:function(e){return e=e.toLowerCase(),this.props.usuarios.filter((function(t){return t.nome.toLowerCase().indexOf(e)>=0||t.login.toLowerCase().indexOf(e)>=0||t.unidade.toLowerCase().indexOf(e)>=0}))}},{key:"handleItemSelect",value:function(e){this.setState({usuario:e}),this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){return i.a.createElement(ye,{message:this.props.message,label:this.props.label||"Usu\xe1rio:"},i.a.createElement(w.a,{fill:!0,inputValueRenderer:function(e){return e},items:this.props.usuarios,itemListPredicate:this.filterItems,itemRenderer:this.renderItem,onItemSelect:this.handleItemSelect,openOnKeyDown:!0,popoverProps:{minimal:!0,position:"bottom-right"},resetOnSelect:!0,selectedItem:this.renderSelectedItem(this.props.onChange?this.props.usuario:this.state.usuario)}))}}]),a}(i.a.Component),je={tipo:"det",destinatarioDet:"USABREM",rtm:["CANBREM"],carater:"r",distribuicao:["DINFOR","DEUA","DAM II"],indexadores:["AINF","PEXT","BRAS"],referencias:["TEL 1987/2020"],indice:"Tecnologia da Informa\xe7\xf5es. Comunica\xe7\xf5es. Reflex\xf5es sobre o SATCOM",redator:"FACC",autoridade:"Julio Bitelli",texto:'<p>Hoje, com efeito, a tend\xeancia de alguns Chefes de Miss\xe3o \xe9, na medida em que existem a seu dispor meios r\xe1pidos e confi\xe1veis de comunica\xe7\xf5es, a de transmitir ao \xf3rg\xe3o central a maior quantidade poss\xedvel de informa\xe7\xf5es, quando mais n\xe3o seja para demonstrar a efici\xeancia de seu trabalho. Nesse af\xe3 de informar, entretanto, frequentemente lhes falta o tempo para tarefas mais relevantes, quais sejam, a avalia\xe7\xe3o da informa\xe7\xe3o, sua inser\xe7\xe3o no quadro da realidade do pa\xeds em que servem, a an\xe1lise de suas poss\xedveis ou prov\xe1veis repercuss\xf5es sobre a pol\xedtica externa e interna desse pa\xeds sobre seu relacionamento com o Brasil: em suma, o processamento prim\xe1rio dos dados coletados. Como resultado, o que \xe9 enviado \xe0 Secretaria de Estado s\xe3o, muitas vezes, "p\xedlulas" de informa\xe7\xf5es descosidas que transferem, para o destinat\xe1rio, a tarefa de montar o quadro geral da situa\xe7\xe3o, tarefa essa qie seria de muito mais f\xe1cil realiza\xe7\xe3o, em uma primeira inst\xe2ncia, pelo pr\xf3prio agente diplom\xe1tico <em>in loco</em>.</p>\n<p>O uso cada vez mais frequente da via telegr\xe1fica tem contribu\xeddo para acelerar essa tend\xeancia, uma vez que se considera, em muitos casos, que o mais importante \xe9 a rapidez com que a Miss\xe3o infoma sobre um acontecimento ou transmite uma informa\xe7\xe3o. Na verdade, entretanto, a informa\xe7\xe3o diplom\xe1tica tem sua utilidade avalidada em fun\xe7\xe3o de tr\xeas aspectos principais: a qualidade de sua fonte, a fidedignidade da pr\xf3pria informa\xe7\xe3o e a sua an\xe1lise no contexto global da realidade em que se insere. A rapidez com que ela \xe9 recebida na Secretaria de Estado assume, assim, na maioria das vezes, import\xe2ncia menor. Isso n\xe3o quer dizer, evidentemente, que o diplomata n\xe3o deva preocupar-se em informar seu governo, com a poss\xedvel brevidade, da ocorr\xeanci, no pa\xeds em que serve, de fatos de maior relev\xe2ncia. Significa, na verdade, que sua fun\xe7\xe3o b\xe1sica, enquanto observador e informante, n\xe3o \xe9 a de fazer concorr\xeancia \xe0 imprensa e sim a de fornecer, ao \xf3rg\xe3o central, dados que transcendam \xe0 mera descri\xe7\xe3o dos acontecimentos.</p>\n<p>Em consequ\xeancia, seria muito mais \xfatil e proveitoso, para a correta formula\xe7\xe3o e execu\xe7\xe3o da pol\xedtica externa, se o posto, ao inv\xe9s de enviar informa\xe7\xf5es t\xf3picas, as reunisse e as transmitisse de forma selecionada e condensada e acompanhadas de umam reflex\xe3o anal\xedtica sobre suas reais implica\xe7\xf5es. Uma vez recebidas na Secretaria de Estado, tais informa\xe7\xf5es, utilizando-se agora o termo em sua correta concep\xe7\xe3o, seriam novamente analisadas, dessa vez em conjunto com informa\xe7\xf5es origin\xe1rias de terceiros postos e de outras fontes.</p>\n<p>Ali\xe1s, a bem da verdade, j\xe1 foram feitas algumas tentativas no sentido de que as miss\xf5es passassem a informar dessa maneira. Quando da mudan\xe7a da Secretaria de Estado para Bras\xedlia, por exemplo, o grupo de trabalho encarregado da organiza\xe7\xe3o da transfer\xeancia previu que, durante um certo tempo, as atividades de comunica\xe7\xf5es telegr\xe1ficas e postais perderiam muito de sua agilidade, em decorr\xeancia de problemas ligados a pessoal e tamb\xe9m \xe0 instala\xe7\xe3o, nos novos locais, das facilidades m\xednimas necess\xe1rias \xe0 boa execu\xe7\xe3o de seus servi\xe7os. Em vista disso, e com o objetivo de evitar que tais inconvenientes redundassem em maiores preju\xedzos para as atividades b\xe1sicas do Minist\xe9rio, foram transmitidas instru\xe7\xf5es aos postos para que substitu\xedssem, na medida do poss\xedvel, o envio de informa\xe7\xf5es soltas por relat\xf3rios abrangentes e aprofundados sobre os diversos aspectos dos pa\xedses em que se localizavam. Tais instru\xe7\xf5es salientavam o fato de que, durante esse per\xedodo de transi\xe7\xe3o, as comunica\xe7\xf5es telegr\xe1ficas deveriam ser reduzidas ao m\xednimo necess\xe1rio.</p>\n<p>Essa diretriz, embora motivada estritamente por raz\xf5es operacionais, apresentou not\xe1veis resultados do ponto de vista substantivo. Com efeito, impedidos de fazerem telegramas t\xf3picos, os diplomatas lotados no exterior puderam dedicar-se \xe0 elabora\xe7\xe3o de informa\xe7\xf5es globais e de grande subst\xe2ncia e que, ainda hoje, decorridos quase 15 anos, em muitos casos conservam sua import\xe2ncia e seu interesse.</p>\n<p>Infelizmente, essa atitude n\xe3o durou muito, e t\xe3o logo os postos foram sentindo que os trabalhos na Secretaria de Estado estavam voltando \xe0 normalidade, retomaram eles, paulatinamente, seus procedimentos anteriores em mat\xe9ria de transmiss\xf5es de informa\xe7\xf5es t\xf3picas por via telegr\xe1fica.</p>\n<p>(...)\xa0</p>\n<p>Tudo isso \xe9 resultado, pelo menos em parte, de certa deforma\xe7\xe3o profissional que leva alguns Chefes de Miss\xe3o a considerarem o grau de import\xe2ncia de seu posto diretamente proporcional ao n\xfamero de telegramas por ele expedido. Dentro dessa \xf3tica, quaisquer iniciativas que visem, direta ou indiretamente, a redu\xe7\xe3o desse n\xfamero ter\xe3o poucas chances de serem bem aceitas.</p>\n<p>TAVARES, Alfredo Carlos de Oliveira. <em>O subsistema de comunica\xe7\xf5es telegr\xe1ficas do Itamaraty.</em> Tese apresentada no IX CAE. Bras\xedlia, agosto de 1984, pp. 123-127.</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>'},we=H.map((function(e){return e.login})),De=[{origem:we[0],destino:we[1],data:"20/09/2020 20:02",texto:"Segue a minuta do expediente solicitado"},{origem:we[1],destino:we[2],data:"21/09/2020 10:00",texto:"Segue a minuta revisada do expediente solicitado, que est\xe1 muito bom"},{origem:we[2],destino:we[0],data:"22/09/2020 20:00",texto:"Encaminho a minuta para expedir, mas sugiro antes consultar o Bob"},{origem:we[0],destino:we[2],data:"23/09/2020 16:07",texto:"O Bob me passou algumas recomenda\xe7\xf5es, todas muito boas como sempre"}],Re=[{unidade:"DEUC",status:"a",texto:"Excelente solu\xe7\xe3o para o problema da rebimboca da parafuseta.",autor:"ibere.barbosa",data:"21/10/2020 10:34"},{unidade:"DTIC",status:"r",texto:"O TCU n\xe3o vai concordar em gastar dinheiro para para comprar desrebimbocador de parafuseta",autor:"mauricio.assis",data:"22/10/2020 20:34"},{unidade:"SGAD",status:"rs",texto:"OK mas sugiro consultar o Bob, que sempre tem boas ideias",autor:"renato.andrade",data:"23/09/2020 09:29"},{unidade:"COF",status:"s",data:"20/10/2020 12:45"}],Te=["2020-12-30 10:45","2020-12-29 20:30","2020-12-29 15:30","2020-12-25 10:00"].sort().map((function(e,t){return{title:"Vers\xe3o ".concat(t+1),data:e.split(" ")[0]}})).reverse();function Ne(e){return new Promise((function(t,a){var n=e();setTimeout((function(){n?t(n):a(new Error("Ocorreu um erro"))}),1500)}))}function Ae(e,t){return Ne((function(){var a=X[{privado:"privados",unidade:"publicosUnidade",publico:"publicos"}[t]];return!!a&&(a.push(e),e)}))}function Me(e){return Ne((function(){return Te.unshift({title:e,data:"2021-01-02"}),!0}))}function Pe(e){return Ne((function(){return!0}))}a(188);function Be(e){return i.a.createElement("div",{className:"despacho"},i.a.createElement("div",{className:"despacho-usuario"},i.a.createElement("span",{className:"de-para"},"De")," ",i.a.createElement("b",null,e.origem),i.a.createElement("br",null),i.a.createElement("span",{className:"de-para"},"Para")," ",i.a.createElement("b",null," ",e.destino),i.a.createElement("br",null),i.a.createElement("span",{className:"de-para"},"Em")," ",e.data),i.a.createElement("pre",null,e.texto))}var Le=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this)).state={despachos:[],usuarioDestino:null,textoDespacho:"",showDialog:!1,showSpinner:!1},n.handleUsuarioChange=n.handleUsuarioChange.bind(Object(u.a)(n)),n.handleDialogButtonClick=n.handleDialogButtonClick.bind(Object(u.a)(n)),n.handleTextareaChange=n.handleTextareaChange.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.show&&!e.show&&(this.setState({showSpinner:!0}),new Promise((function(e,t){setTimeout((function(){e(De)}),1e3)})).then((function(e){return t.setState({despachos:e,showSpinner:!1})})).catch((function(e){t.setState({showSpinner:!1}),b.show({message:"Ocorreu um erro tentando carregar os despachos",intent:h.a.DANGER})})))}},{key:"handleUsuarioChange",value:function(e){this.setState({usuarioDestino:e})}},{key:"handleTextareaChange",value:function(e){var t=e.target.value;this.setState({textoDespacho:t})}},{key:"handleButtonClick",value:function(){this.state.usuarioDestino&&this.setState({showDialog:!0})}},{key:"handleDialogClose",value:function(){this.setState({showDialog:!1})}},{key:"handleDialogButtonClick",value:function(e){var t=this;return function(a){if(t.setState({showDialog:!1}),e){var n={origem:"fabio.cereda",destino:t.state.usuarioDestino.login,texto:t.state.textoDespacho,data:"14/11/2020 18:27"};t.setState({usuarioDestino:null,textoDespacho:""}),function(e){return new Promise((function(t,a){setTimeout((function(){De.push(e),t(De)}),1e3)}))}(n).then((function(e){b.show({message:"Despacho enviado para "+n.destino+". A janela deveria se fechar agora.",intent:h.a.SUCCESS}),t.props.onBack()})).catch((function(e){b.show({message:"Ocorreu um erro tentando enviar o despacho",intent:h.a.DANGER})}))}}}},{key:"render",value:function(){var e=this.state.despachos.length?i.a.createElement(i.a.Fragment,null,i.a.createElement("h5",null,"Despachos anteriores"),this.state.despachos.reverse().map((function(e){return i.a.createElement(Be,e)}))):"",t=this.state.usuarioDestino?this.state.usuarioDestino.login:"";return i.a.createElement(Oe,{title:"Despachar",onClick:this.props.onBack},i.a.createElement(Ie,{message:"Indique um usu\xe1rio",label:"Despachar para:",usuarios:H,usuario:this.state.usuarioDestino,selected:this.state.usuarioDestino,onChange:this.handleUsuarioChange}),i.a.createElement(A,{height:8}),i.a.createElement(ye,{label:"Teor do despacho:"},i.a.createElement(p.v,{rows:"3",fill:!0,growVertically:!0,value:this.state.textoDespacho,onChange:this.handleTextareaChange})),i.a.createElement("div",{style:{marginTop:8,textAlign:"right"}},i.a.createElement(p.a,{rightIcon:"arrow-top-right",intent:"primary",onClick:this.handleButtonClick.bind(this)},"Despachar")),i.a.createElement(A,{height:8}),i.a.createElement(ke,{spinner:this.state.showSpinner},e),i.a.createElement(p.c,{isOpen:this.state.showDialog,onClose:this.handleDialogClose.bind(this)},i.a.createElement("div",{className:xe.a.DIALOG_BODY},i.a.createElement("p",null,"Deseja despachar este expediente? O acesso ser\xe1 transferido ao usu\xe1rio ",i.a.createElement("strong",null,t))),i.a.createElement("div",{className:xe.a.DIALOG_FOOTER},i.a.createElement("div",{className:xe.a.DIALOG_FOOTER_ACTIONS},i.a.createElement(p.a,{onClick:this.handleDialogButtonClick(!1)},"N\xe3o, cancelar"),i.a.createElement(p.a,{onClick:this.handleDialogButtonClick(!0),intent:h.a.PRIMARY},"Sim, despachar")))))}}]),a}(i.a.Component),Ue=(a(189),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this)).state={errors:[]},n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){var t=function(){this.verificarMinuta(),this.props.show&&setTimeout(t,2500)}.bind(this);this.props.show&&!e.show&&(this.verificarMinuta(),setTimeout(t,2500))}},{key:"verificarMinuta",value:function(){var e=this.props.minuta.validarParaExpedir();return this.setState({errors:function(){var t=[];for(var a in e)t.push(e[a]);return t}()}),!(e&&e.length>0)}},{key:"handleButtonClick",value:function(e){if(this.verificarMinuta()){var t=pe.prepararArquivoExpedicao(this.props.minuta),a=pe.prepararObjetoExpedicao(this.props.minuta);console.log(t),console.log(a),alert(t)}}},{key:"render",value:function(){var e,t=this.state.errors&&this.state.errors.length;return e=t?n.createElement("div",{className:"expedicao-corpo-texto"},"Esta minuta cont\xe9m alguns erros que impedem sua expedi\xe7\xe3o:",n.createElement("ul",null,this.state.errors.map((function(e){return n.createElement("li",null,e)}))),"Corrija estes erros e tente expedir novamente."):n.createElement("div",{className:"expedicao-corpo-texto"},"Este expediente ser\xe1 transmitido e seu nome ficar\xe1 registrado. Confirma a expedi\xe7\xe3o?"),n.createElement(Oe,{title:"Expedir",onClick:this.props.onBack},e,n.createElement(A,{height:16}),n.createElement("div",{style:{marginTop:8,textAlign:"right"}},n.createElement(p.a,{icon:"chevron-left",onClick:this.props.onBack},"Cancelar"),"\xa0\xa0",n.createElement(p.a,{rightIcon:"direction-right",intent:"success",disabled:t,onClick:this.handleButtonClick.bind(this)},"Expedir")),n.createElement(A,{height:8}))}}]),a}(n.Component));a(190);var qe=function(e){for(var t=[],a=0;a<100;a++)t.push({acao:"Modificado",icon:"edit",usuario:"renato.andrade",data:"20/10/2020 20:36"});t.push({acao:"Criado",icon:"document",usuario:"fabio.cereda",data:"18/10/2020 10:58"});var n=t.map((function(e,t){return i.a.createElement("div",{className:"item-historico",key:t},i.a.createElement("span",{className:"icone-historico"},i.a.createElement(p.e,{icon:e.icon,intent:"primary"})),e.acao," por ",i.a.createElement("b",null,e.usuario),i.a.createElement("br",null),"em ",e.data)}));return i.a.createElement(Oe,{title:"Hist\xf3rico",onClick:e.onBack},n)},ze=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this)).state={unidades:Array.isArray(e.selected)?e.selected:[]},n.filterItems=n.filterItems.bind(Object(u.a)(n)),n.getTagProps=n.getTagProps.bind(Object(u.a)(n)),n.renderItem=n.renderItem.bind(Object(u.a)(n)),n.renderTag=n.renderTag.bind(Object(u.a)(n)),n.handleItemSelect=n.handleItemSelect.bind(Object(u.a)(n)),n.handleTagRemove=n.handleTagRemove.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.selected!==this.state.unidades&&this.setState({unidades:this.props.selected})}},{key:"renderSelectedItem",value:function(e){if(!e)return"";var t=e.label,a=e.text;return"".concat(t," - ").concat(a)}},{key:"renderItem",value:function(e,t){var a=t.modifiers,n=t.handleClick;if(!a.matchesPredicate)return null;var r=e.label,o=e.text;return i.a.createElement(p.j,{active:a.active,key:r,label:r,text:o,onClick:n,shouldDismissPopover:!1})}},{key:"renderTag",value:function(e){return"string"==typeof e?i.a.createElement("div",null,e):i.a.createElement("div",{title:e.text},e.label||e.text)}},{key:"filterItems",value:function(e){var t=this;return e=e.toLowerCase(),this.props.unidades.filter((function(a){return!(t.state.unidades.indexOf(a)>=0)&&(a.label.toLowerCase().indexOf(e)>=0||a.text.toLowerCase().indexOf(e)>=0)}))}},{key:"getTagProps",value:function(e,t){return{interactive:!0,intent:h.a.NONE}}},{key:"handleItemSelect",value:function(e){var t=this.state.unidades;t.push(e),this.setState({unidades:t}),this.props.onChange&&this.props.onChange(t)}},{key:"handleTagRemove",value:function(e,t){var a=this.state.unidades[t],n=this.state.unidades.filter((function(e){return e!==a}));this.setState({unidades:n}),this.props.onChange&&this.props.onChange(n)}},{key:"render",value:function(){return i.a.createElement(ye,{message:this.props.message,label:this.props.label||"Usu\xe1rio:"},i.a.createElement(j.a,{fill:!0,initialContent:null,items:this.props.unidades,itemListPredicate:this.filterItems,itemRenderer:this.renderItem,onItemSelect:this.handleItemSelect,openOnKeyDown:!0,popoverProps:{minimal:!0,position:"bottom-right"},resetOnSelect:!0,selectedItems:this.state.unidades,tagRenderer:this.renderTag,tagInputProps:{onRemove:this.handleTagRemove,tagProps:this.getTagProps}}))}}]),a}(i.a.Component);a(191);function _e(e){var t;return i.a.createElement("div",{className:"rubrica"},i.a.createElement("span",{className:"rubrica-unidade"},e.rubrica.unidade),i.a.createElement("span",{className:(t=e.rubrica.status,"rubrica-status "+{s:"solicitada",a:"aprovado",r:"rejeitado",rs:"ressalvas"}[t])},function(e){return{s:"Solicitada",a:"Rubricado",r:"Rejeitado",rs:"Com ressalvas"}[e]}(e.rubrica.status)),i.a.createElement("div",{className:"rubrica-comentarios"},i.a.createElement("pre",null,e.rubrica.texto)),i.a.createElement("div",{className:"rubrica-autor"},i.a.createElement("strong",null,e.rubrica.autor),i.a.createElement("span",null," "),i.a.createElement("span",{style:{whiteSpace:"nowrap"}},e.rubrica.data)))}var Fe=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this)).state={rubricas:[],unidadesSelecionadas:[],showSpinner:!1},n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;e.minuta!==this.props.minuta&&(this.setState({showSpinner:!0}),new Promise((function(e,t){setTimeout((function(){return e(Re)}),5e3)})).then((function(e){t.setState({rubricas:e,showSpinner:!1})}))),e.show!==this.props.show&&this.props.show&&this.setState({unidadesSelecionadas:(this.props.minuta.distribuicao||[]).slice(1).map((function(e){return q.find((function(t){return t.label===e}))}))})}},{key:"handleUnidadesChange",value:function(e){this.setState({unidadesSelecionadas:e})}},{key:"handleButtonClick",value:function(e){this.setState({rubricas:[].concat(Object(x.a)(this.state.unidadesSelecionadas.map((function(e){return{unidade:e.label,status:"s",data:"14/11/2020 17:19"}}))),Object(x.a)(this.state.rubricas)),unidadesSelecionadas:[]})}},{key:"render",value:function(){var e=this.state.rubricas.map((function(e,t){return i.a.createElement(_e,{rubrica:e,key:t})}));return this.state.rubricas.length&&e.unshift(i.a.createElement("h5",{key:-1},"Rubricas solicitadas")),i.a.createElement(Oe,{title:"Rubricas",onClick:this.props.onBack},i.a.createElement(ze,{label:"Solicitar rubrica das unidades:",unidades:q,selected:this.state.unidadesSelecionadas,onChange:this.handleUnidadesChange.bind(this)}),i.a.createElement("div",{style:{marginTop:8,textAlign:"right"}},i.a.createElement(p.a,{rightIcon:"arrow-right",intent:"primary",onClick:this.handleButtonClick.bind(this)},"Solicitar rubricas")),i.a.createElement(A,{height:8}),i.a.createElement(ke,{spinner:this.state.showSpinner},e))}}]),a}(i.a.Component),Ge=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this)).state={value:""},n.handleInputChange=n.handleInputChange.bind(Object(u.a)(n)),n.handleClickOk=n.handleClickOk.bind(Object(u.a)(n)),n.handleClose=n.handleClose.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.show&&!e.show&&this.setState({value:""})}},{key:"handleInputChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleClickOk",value:function(e){this.props.onChange&&this.props.onChange(this.state.value),this.handleClose(e)}},{key:"handleClose",value:function(e){this.props.onClose&&this.props.onClose()}},{key:"render",value:function(){var e={minWidth:100};return i.a.createElement(p.c,{style:{width:this.props.width||480},onClose:this.handleClose,title:this.props.title||"Salvar como",isOpen:this.props.show},i.a.createElement("div",{className:xe.a.DIALOG_BODY},i.a.createElement(p.g,null,this.props.label||"Indique um nome para este documento:"),i.a.createElement(p.f,{asyncControl:!0,placeholder:this.props.placeholder,onChange:this.handleInputChange,value:this.state.value})),i.a.createElement("div",{className:xe.a.DIALOG_FOOTER},i.a.createElement("div",{className:xe.a.DIALOG_FOOTER_ACTIONS},i.a.createElement(p.a,{fill:!1,style:e,onClick:this.props.onClose},"Cancelar"),i.a.createElement(p.a,{fill:!1,style:e,type:"submit",intent:h.a.PRIMARY,disabled:!this.state.value,onClick:this.handleClickOk},this.props.okButtonLabel||"OK"))))}}]),a}(i.a.Component),Ve=(a(192),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this)).state={selected:null},n.handleMenuItemClick=n.handleMenuItemClick.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"handleMenuItemClick",value:function(e){var t=this;return function(a){t.setState({selected:e}),t.props.onClick(e)}}},{key:"render",value:function(){var e=this,t=this.props.grupos.map((function(t){var a=t.minutas.map((function(t){var a=i.a.createElement("small",null,t.label);return i.a.createElement(p.j,{text:t.title||t.texto||t,labelElement:a,onClick:e.handleMenuItemClick(t),multiline:!0,active:e.state.selected===t})}));return a.length?(t.nome&&a.unshift(i.a.createElement(p.i,{title:t.nome})),a):""}));return i.a.createElement(p.h,null,t)}}]),a}(i.a.Component)),Ye=a(197).parse;var Qe={inserirProposito:function(e,t){return t?e.replace(/<p(.*?)>/,(function(e,a){return"<p".concat(a,'><span class="proposito">').concat(t,"</span>")})):e},validar:function(e){var t=Ye(e);try{return function e(t){if("script"===t.rawTagName)throw Error("<script> tag found");if(t.rawAttrs&&t.rawAttrs.match(/on(\S+)(\s*)=/g))throw Error("JS events found inside tag <".concat(t.rawTagName,">"));t.childNodes&&t.childNodes.forEach((function(t){return e(t)}))}(t),!0}catch(a){return console.error(a),!1}}};a(194);function Ke(e){var t=_.find((function(t){return e===(t.sigla||t.id)}));if(!t)return"";var a=t.nome||t.text,n=a.split(" ");return 1===n.length?"<b>"+a+"</b>":(n.splice(1,0,"<b>"),n.join(" ")+"</b>")}function He(e,t){if(!e||!e.length)return"";var a=e.map((function(e){return Ke(e)})).join(",<br />");return t&&(a=t+"<br />"+a),a}function We(e,t){var a=t.find((function(t){return t.id===e}));return a?a.text:""}var Xe=function(e){if(!e.minuta)return i.a.createElement(i.a.Fragment,null,i.a.createElement("br",null),i.a.createElement("h3",null,e.placeholder||"Selecione uma minuta na lista \xe0 esquerda"));var t,a=W,n=new pe(e.minuta),r=n.tipo,o=n.destinatarioDet,s=n.distribuicao,l=n.rtm,c=n.destinatariosCit,u=n.indexadores,d=n.prioridade,m=n.carater,h=n.referencias,p=n.indice,f=n.proposito,v=n.redator,g=n.resumo,b=n.texto;return t=Qe.validar(b)?Qe.inserirProposito(b,f)+'<p class="redator">'+v+"</p>":"Corpo de texto inv\xe1lido.",i.a.createElement("div",{style:e.style},i.a.createElement("div",{className:"cabecalho"},i.a.createElement("div",{className:"posto-e-tipo"},function(e,t,a){switch(e.charAt(0).toLowerCase()){case"t":return i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",{dangerouslySetInnerHTML:{__html:Ke(t)}}),i.a.createElement("h3",null,"Minuta de telegrama"));case"d":return i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"Da SERE para ",i.a.createElement("span",{dangerouslySetInnerHTML:{__html:Ke(a)}})),i.a.createElement("h3",null,"Minuta de despacho telegr\xe1fico"));case"c":return i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"Secretaria de Estado das Rela\xe7\xf5es Exteriores"),i.a.createElement("h3",null,"Minuta de circular telegr\xe1fica"));default:return i.a.createElement("h2",null,"Minuta de expediente telegr\xe1fico")}}(r,a,o)),i.a.createElement("div",{className:"campos-expediente"},i.a.createElement("div",{className:"flex-container"},i.a.createElement("fieldset",{className:"c1-1"},i.a.createElement("legend",null,"Distribui\xe7\xe3o"),s.join(" / "))),i.a.createElement("div",{className:"flex-container"},i.a.createElement("fieldset",{className:"c2-3"},i.a.createElement("legend",null,"Indexadores"),u.join("-")),i.a.createElement("fieldset",{className:"c1-3"},i.a.createElement("legend",null,"Prioridade"),We(d,G))),i.a.createElement("div",{className:"flex-container"},i.a.createElement("fieldset",{className:"c1-3"},i.a.createElement("legend",null,"Car\xe1ter"),We(m,F)),i.a.createElement("fieldset",{className:"c1-3"},i.a.createElement("legend",null,"Prazo de sigilo")),i.a.createElement("fieldset",{className:"c1-3"},i.a.createElement("legend",null,"Base legal"))),i.a.createElement("div",{className:"flex-container"},i.a.createElement("fieldset",{className:"c1-1"},i.a.createElement("legend",null,"Refer\xeancias"),h.join(", ").toUpperCase())),i.a.createElement("div",{className:"flex-container"},i.a.createElement("fieldset",{className:"c1-1"},i.a.createElement("legend",null,"\xcdndice"),p)))),i.a.createElement("table",null,i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("div",{className:"corpo-texto"},i.a.createElement("p",{className:"rtm",dangerouslySetInnerHTML:{__html:He(l,"Retransmiss\xe3o autom\xe1tica para")}}),i.a.createElement("p",{className:"destinatarios",dangerouslySetInnerHTML:{__html:He(c,"Destinat\xe1rios da circular telegr\xe1fica:")}}),i.a.createElement("p",{className:"resumo"},g),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:t}}))))),i.a.createElement("tfoot",null,i.a.createElement("tr",null,i.a.createElement("td",{className:"content-space-below"},"\xa0")))),i.a.createElement("div",{className:"tci"},i.a.createElement("h3",null,"TCI"),i.a.createElement("br",null),i.a.createElement("div",{className:"flex-container",style:{fontSize:11}},i.a.createElement("fieldset",{className:"c1-4"},i.a.createElement("legend",null,"Grau de sigilo"),"Ultrassecreto"),i.a.createElement("fieldset",{className:"c1-4"},i.a.createElement("legend",null,"Prazo"),"25 anos"),i.a.createElement("fieldset",{className:"c1-2"},i.a.createElement("legend",null,"Fundamento legal"),"Lei 12.527/11 Art. 23 - II")),i.a.createElement("div",{className:"flex-container"},i.a.createElement("fieldset",{className:"c1-1"},i.a.createElement("legend",null,"Raz\xf5es para classifica\xe7\xe3o"),"O expediente relata gest\xe3o junto \xe0 Chancelaria e ao Minist\xe9rio do Esporte de Neutr\xe1lia em favor da candidatura do Sr. Jos\xe9 da Silva para a Dire\xe7\xe3o Geral da FIFA"))))},Je=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this)).state={isOpen:e.show,grupos:[],minutas:[],filtro:"",itemSelecionado:null,showListaSpinner:!1,showSpinner:!1,modelo:null},n.handleClose=n.handleClose.bind(Object(u.a)(n)),n.handleOk=n.handleOk.bind(Object(u.a)(n)),n.handleFilterChange=n.handleFilterChange.bind(Object(u.a)(n)),n.handleSelectMinuta=n.handleSelectMinuta.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.show!==e.show&&this.props.show&&("function"===typeof this.props.grupos?(this.setState({showListaSpinner:!0}),this.props.grupos().then((function(e){t.setState({grupos:e,showListaSpinner:!1})})).catch((function(e){return t.setState({showListaSpinner:!1})}))):Array.isArray(this.props.grupos)&&this.setState({grupos:this.props.grupos}),"function"===typeof this.props.minutas?(this.setState({showListaSpinner:!0}),this.props.minutas().then((function(e){t.setState({minutas:e,showListaSpinner:!1})})).catch((function(e){return t.setState({showListaSpinner:!1})}))):Array.isArray(this.props.minutas)&&this.setState({minutas:this.props.minutas}))}},{key:"handleClose",value:function(e){this.props.onClose(e)}},{key:"handleOk",value:function(e){var t=this;return function(a){e&&!1===e(t.state.modelo)||t.props.onClose(a)}}},{key:"handleSelectMinuta",value:function(e){var t=this;e!==this.state.itemSelecionado&&this.props.minuta&&"function"===typeof this.props.minuta&&(this.setState({showSpinner:!0}),this.props.minuta().then((function(a){t.setState({modelo:a,itemSelecionado:e,showSpinner:!1})})).catch((function(e){b.show({message:e||"Erro ao tentar carregar este documento",intent:h.a.DANGER}),t.setState({showSpinner:!1})})))}},{key:"handleFilterChange",value:function(e){this.setState({filtro:e.target.value})}},{key:"filtrarMinutas",value:function(e,t){var a=this.state.filtro.toLowerCase(),n=function(e){return"string"!==typeof e&&(e=(e.title||e.text||"")+e.label),e.toLowerCase().indexOf(a)>=0};return e&&e.length?e.map((function(e){return{nome:e.nome,minutas:e.minutas.filter(n)}})):[{nome:"",minutas:(t||[]).filter(n)}]}},{key:"render",value:function(){var e=this,t={minWidth:100},a={position:"sticky",top:200,left:0,right:0,height:0,textAlign:"center",zIndex:100},n=this.props.actions.map((function(a,n){return i.a.createElement(p.a,{fill:!1,key:n,intent:a.intent,style:a.style||t,onClick:e.handleOk(a.handler)},a.text||a.label)}));return i.a.createElement(p.c,{style:{width:900},onClose:this.handleClose,title:this.props.title||"Minutas",isOpen:this.props.show,canOutsideClickClose:!1},i.a.createElement("div",{className:xe.a.DIALOG_BODY},i.a.createElement(N,{style:{height:480}},i.a.createElement(N,{direction:"vertical",style:{width:400}},i.a.createElement(p.f,{asyncControl:!0,leftIcon:"search",placeholder:"Filtrar...",onChange:this.handleFilterChange,value:this.state.filtro}),i.a.createElement(A,{height:8}),i.a.createElement("div",{style:{flex:1,overflowY:"auto",border:"1px solid #aaa",backgroundColor:"#ffffff"}},i.a.createElement("div",{style:Object(s.a)(Object(s.a)({},a),{},{display:this.state.showListaSpinner?"block":"none"})},i.a.createElement(p.r,{size:p.r.SIZE_STANDARD})),i.a.createElement(Ve,{grupos:this.filtrarMinutas(this.state.grupos,this.state.minutas),onClick:this.handleSelectMinuta}))),i.a.createElement("div",{style:{position:"relative",width:640,padding:16,paddingTop:0,marginLeft:16,overflowY:"auto",overflowX:"hidden",backgroundColor:"white",border:"1px solid #aaa"}},i.a.createElement("div",{style:Object(s.a)(Object(s.a)({},a),{},{display:this.state.showSpinner?"block":"none"})},i.a.createElement(p.r,{size:p.r.SIZE_STANDARD})),i.a.createElement(Xe,{minuta:this.state.modelo,placeholder:this.props.placeholder,style:{opacity:this.state.showSpinner?.4:1}})))),i.a.createElement("div",{className:xe.a.DIALOG_FOOTER},i.a.createElement("div",{className:xe.a.DIALOG_FOOTER_ACTIONS},i.a.createElement(p.a,{fill:!1,style:t,onClick:this.props.onClose},"Cancelar"),n)))}}]),a}(i.a.Component),Ze=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this)).state={value:"",tipoModelo:null},n.handleInputChange=n.handleInputChange.bind(Object(u.a)(n)),n.handleTipoModeloChange=n.handleTipoModeloChange.bind(Object(u.a)(n)),n.handleClickOk=n.handleClickOk.bind(Object(u.a)(n)),n.handleClose=n.handleClose.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.show&&!e.show&&this.setState({value:""})}},{key:"handleInputChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleTipoModeloChange",value:function(e){this.setState({tipoModelo:e.target.value})}},{key:"handleClickOk",value:function(e){this.props.onChange&&this.props.onChange({titulo:this.state.value,tipo:this.state.tipoModelo}),this.handleClose(e)}},{key:"handleClose",value:function(e){this.props.onClose&&this.props.onClose()}},{key:"render",value:function(){var e={minWidth:100};return i.a.createElement(p.c,{style:{width:480},onClose:this.handleClose,title:this.props.title||"Salvar esta minuta como modelo",isOpen:this.props.show,canOutsideClickClose:!1},i.a.createElement("div",{className:xe.a.DIALOG_BODY},i.a.createElement(p.g,null,"Indique um nome para o modelo:"),i.a.createElement(p.f,{asyncControl:!0,placeholder:this.props.placeholder,onChange:this.handleInputChange,value:this.state.value}),i.a.createElement(A,{height:16}),i.a.createElement(p.q,{label:"Indique quem poder\xe1 usar este modelo:",onChange:this.handleTipoModeloChange,selectedValue:this.state.tipoModelo},i.a.createElement(p.p,{label:"Somente eu",value:"privado"}),i.a.createElement(p.p,{label:"Minha unidade",value:"unidade"}),i.a.createElement(p.p,{label:"Todos os usu\xe1rios",value:"publico"}))),i.a.createElement("div",{className:xe.a.DIALOG_FOOTER},i.a.createElement("div",{className:xe.a.DIALOG_FOOTER_ACTIONS},i.a.createElement(p.a,{fill:!1,style:e,onClick:this.props.onClose},"Cancelar"),i.a.createElement(p.a,{fill:!1,style:e,type:"submit",intent:h.a.PRIMARY,disabled:!this.state.value||!this.state.tipoModelo,onClick:this.handleClickOk},"Salvar como modelo"))))}}]),a}(i.a.Component),$e=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this)).state={openPane:"menu",openDialog:""},n.handleMenuClick=n.handleMenuClick.bind(Object(u.a)(n)),n.handleSalvarCopia=n.handleSalvarCopia.bind(Object(u.a)(n)),n.handleSalvarModelo=n.handleSalvarModelo.bind(Object(u.a)(n)),n.handleSalvarVersao=n.handleSalvarVersao.bind(Object(u.a)(n)),n.backToMenu=n.backToMenu.bind(Object(u.a)(n)),n.openDialog=n.openDialog.bind(Object(u.a)(n)),n.closeDialog=n.closeDialog.bind(Object(u.a)(n)),n.openPane=n.openPane.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"handleMenuClick",value:function(e){var t=this;return["modelos","versoes","salvarCopia","salvarModelo","salvarVersao"].includes(e)?function(a){return t.openDialog(e)}:function(a){return t.openPane(e)}}},{key:"openDialog",value:function(e){this.setState({openDialog:e}),this.forceUpdate()}},{key:"closeDialog",value:function(){this.setState({openDialog:""})}},{key:"openPane",value:function(e){this.setState({openPane:e}),this.forceUpdate()}},{key:"backToMenu",value:function(){this.openPane("menu")}},{key:"loadModelos",value:function(){return new Promise((function(e,t){setTimeout((function(){e([{nome:"Meus modelos",minutas:X.privados},{nome:"Modelos da unidade",minutas:X.publicosUnidade},{nome:"Modelos p\xfablicos",minutas:X.publicos}])}),2e3)}))}},{key:"loadMinuta",value:function(e){return new Promise((function(e,t){var a={tipo:"cit",distribuicao:["DEUC","DMAC"],indexadores:["PEXT","BRAS","EUA"],destinatarioDet:"USABREM",rtm:["USABREM","CANBREM"],proposito:"Informo e rogo provid\xeancias",prioridade:"u",carater:"s",redator:"FACC",referencias:["TEL 1234","CIT 134233","det 12/2020"],indice:"Modelo. \xcdndice",texto:"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc sit amet egestas tortor. Nam a odio facilisis, pellentesque orci sed, vestibulum nibh. Sed sapien mauris, mattis quis mollis eget, molestie et sem. Nullam condimentum congue commodo. Maecenas ac quam at magna tempor congue id ac quam. Ut velit nunc, sagittis sit amet odio vitae, maximus lacinia orci. Sed bibendum neque a nisl sagittis tempus. Aenean finibus finibus sagittis. Mauris posuere elit et auctor tempor. Aenean scelerisque fringilla ante at maximus.</p>\n\t\t\t\t\t<p>2. Quisque quis laoreet purus. Mauris cursus neque non elit posuere, id pretium felis tempor. Cras varius eleifend ipsum id malesuada. Proin dictum, purus quis aliquet placerat, felis lorem lacinia turpis, ut convallis augue nisi eget odio. Sed dui nisi, vehicula eget posuere sed, dignissim non lacus. Nulla ac nibh purus. Aenean sit amet ornare orci, eu rutrum sem. Ut elementum imperdiet nisl, eu ullamcorper sem laoreet in. Donec ut ornare lacus. Ut sed lectus lectus. Suspendisse vestibulum, justo non condimentum fringilla, turpis eros commodo ex, in iaculis velit dui dignissim augue. Suspendisse non magna urna. Vivamus consectetur metus in justo mollis mattis.</p>\n\t\t\t\t\t<p>3. Quisque quis laoreet purus. Mauris cursus neque non elit posuere, id pretium felis tempor. Cras varius eleifend ipsum id malesuada. Proin dictum, purus quis aliquet placerat, felis lorem lacinia turpis, ut convallis augue nisi eget odio. Sed dui nisi, vehicula eget posuere sed, dignissim non lacus. Nulla ac nibh purus. Aenean sit amet ornare orci, eu rutrum sem. Ut elementum imperdiet nisl, eu ullamcorper sem laoreet in. Donec ut ornare lacus. Ut sed lectus lectus. Suspendisse vestibulum, justo non condimentum fringilla, turpis eros commodo ex, in iaculis velit dui dignissim augue. Suspendisse non magna urna. Vivamus consectetur metus in justo mollis mattis.</p>\n\t\t\t\t\t<p>EXTERIORES</p>"};setTimeout((function(){return e(a)}),2e3)}))}},{key:"loadVersoes",value:function(){return new Promise((function(e,t){setTimeout((function(){return e(Te.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{label:e.data})})))}),1500)}))}},{key:"handleSalvarCopia",value:function(e){this.props.onSalvarCopia(e)}},{key:"handleSalvarModelo",value:function(e){this.props.onSalvarModelo(e)}},{key:"handleSalvarVersao",value:function(e){this.props.onSalvarVersao(e)}},{key:"render",value:function(){var e=this,t="rubricas"===this.state.openPane,a="despachos"===this.state.openPane,n="expedir"===this.state.openPane,r="historico"===this.state.openPane,o=[{text:"Usar este modelo",intent:h.a.PRIMARY,handler:function(t){return e.props.onUsarModelo(t),!0}}],s=[{text:"Usar esta vers\xe3o",intent:h.a.PRIMARY,handler:function(t){return e.props.onUsarVersao(t),!0}}];return i.a.createElement(Ee,null,i.a.createElement(Ce,{show:"menu"===this.state.openPane,position:"left"},i.a.createElement(Se,{onClick:this.handleMenuClick})),i.a.createElement(Ce,{show:t,position:"right"},i.a.createElement(Fe,{onBack:this.backToMenu,show:t,minuta:this.props.minuta})),i.a.createElement(Ce,{show:r,position:"right"},i.a.createElement(qe,{onBack:this.backToMenu,show:r})),i.a.createElement(Ce,{show:a,position:"right"},i.a.createElement(Le,{onBack:this.backToMenu,show:a})),i.a.createElement(Ce,{show:"expedir"===this.state.openPane,position:"right"},i.a.createElement(Ue,{onBack:this.backToMenu,show:n,minuta:this.props.minuta})),i.a.createElement(Je,{show:"modelos"===this.state.openDialog,onClose:this.closeDialog,grupos:this.loadModelos,minuta:this.loadMinuta,actions:o}),i.a.createElement(Je,{show:"versoes"===this.state.openDialog,title:"Vers\xf5es desta minuta",placeholder:"Selecione uma vers\xe3o na lista \xe0 esquerda",onClose:this.closeDialog,minutas:this.loadVersoes,minuta:this.loadMinuta,actions:s}),i.a.createElement(Ge,{show:"salvarVersao"===this.state.openDialog,title:"Salvar esta vers\xe3o",onClose:this.closeDialog,onChange:this.handleSalvarVersao}),i.a.createElement(Ge,{show:"salvarCopia"===this.state.openDialog,title:"Salvar uma c\xf3pia desta minuta",label:"Indique o t\xedtulo da c\xf3pia que ser\xe1 criada:",onClose:this.closeDialog,onChange:this.handleSalvarCopia}),i.a.createElement(Ze,{show:"salvarModelo"===this.state.openDialog,onClose:this.closeDialog,onChange:this.handleSalvarModelo}))}}]),a}(i.a.Component);a(195);var et=function(e){var t=e.sidebarIsOpen?"menu-closed":"menu",a=e.rightbarIsOpen?"menu-open":"menu";return i.a.createElement(p.k,{className:"bp3-dark"},i.a.createElement(p.l,null,i.a.createElement(A,{width:"-12px"}),i.a.createElement(p.a,{className:xe.a.MINIMAL,icon:t,onClick:e.toggleSidebar}),i.a.createElement(A,{width:"16px"}),i.a.createElement(p.m,null,i.a.createElement("div",{style:{maxWidth:400}},i.a.createElement(p.d,{maxLength:120,placeholder:"Clique para dar um nome a esta minuta...",onChange:function(t){return e.onChangeName&&e.onChangeName(t)}})))),i.a.createElement(p.l,{align:O.a.RIGHT,style:{marginRight:-8}},i.a.createElement(p.a,{className:xe.a.MINIMAL,icon:a,onClick:e.toggleRightbar})))},tt=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(l.a)(this,a),n=t.call(this);var i=new pe({tipo:"det"});return n.state={showSpinner:!1,sidebarIsOpen:!0,rightbarIsOpen:!0,minuta:i,texto:i.texto},n.autosave=n.autosave.bind(Object(u.a)(n)),n.handleTextoChange=n.handleTextoChange.bind(Object(u.a)(n)),n.handleToggleSidebar=n.handleToggleSidebar.bind(Object(u.a)(n)),n.handleToggleRightbar=n.handleToggleRightbar.bind(Object(u.a)(n)),n.handleChangeName=n.handleChangeName.bind(Object(u.a)(n)),n.handleMergeMinuta=n.handleMergeMinuta.bind(Object(u.a)(n)),n.handleChangeMinuta=n.handleChangeMinuta.bind(Object(u.a)(n)),n.handleSalvarCopia=n.handleSalvarCopia.bind(Object(u.a)(n)),n.handleSalvarModelo=n.handleSalvarModelo.bind(Object(u.a)(n)),n.handleSalvarVersao=n.handleSalvarVersao.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=Object(M.a)();t?(this.setState({showSpinner:!0}),new Promise((function(e,t){setTimeout((function(){e(je)}),2e3)})).then((function(t){var a=new pe;a.setProps(Object(s.a)({},e.state.minuta)),a.setProps(t),e.setState({minuta:a,texto:a.texto,showSpinner:!1}),e.setupAutosave()})).catch((function(e){alert("Erro tentando carregar a minuta"),window.close()}))):this.setupAutosave()}},{key:"setupAutosave",value:function(){var e=this;setInterval((function(){e.state.minuta.foiAlterada()&&e.autosave()}),1e4)}},{key:"autosave",value:function(){var e,t=this;(e=this.state.minuta,new Promise((function(t,a){console.log("Autosaving..."),console.log(e),t(e)}))).then((function(e){return t.state.minuta.marcarComoNaoAlterada()}))}},{key:"handleToggleSidebar",value:function(e){this.setState({sidebarIsOpen:!this.state.sidebarIsOpen})}},{key:"handleToggleRightbar",value:function(e){this.setState({rightbarIsOpen:!this.state.rightbarIsOpen})}},{key:"handleTextoChange",value:function(e){this.state.minuta.setProp("texto",e)}},{key:"handleChangeName",value:function(e){document.title=e,this.state.minuta.setProp("titulo",e)}},{key:"handleMergeMinuta",value:function(e){if(e){var t=pe.mergeMinutas(this.state.minuta,e);this.setState({minuta:t,texto:t.texto})}}},{key:"handleChangeMinuta",value:function(e){var t=new pe;t.setProps(e),this.setState({minuta:t,texto:t.texto})}},{key:"salvarDocumento",value:function(e,t){var a=t.titulo,n=t.tipo,i=t.mensagemSucesso,r=t.mensagemErro;if(!e)return console.error("Erro em salvarDocumento: funcaoSalvar n\xe3o pode ser null"),null;e(a,n).then((function(){b.show({message:i||"O documento foi salvo com \xeaxito",intent:h.a.SUCCESS})})).catch((function(){b.show({message:r||"Ocorreu um erro",intent:h.a.DANGER})}))}},{key:"handleSalvarCopia",value:function(e){this.salvarDocumento(Pe,{titulo:e,mensagemSucesso:'Salvou uma c\xf3pia desta minuta com o t\xedtulo "'.concat(e,'"'),mensagemErro:"Ocorreu um erro tentando salvar uma c\xf3pia desta minuta"})}},{key:"handleSalvarModelo",value:function(e){var t=e.titulo,a=e.tipo;this.salvarDocumento(Ae,{titulo:t,tipo:a,mensagemSucesso:'Salvou este modelo com o nome "'.concat(t,'"'),mensagemErro:"Ocorreu um erro tentando salvar o modelo"})}},{key:"handleSalvarVersao",value:function(e){this.salvarDocumento(Me,{titulo:e,mensagemSucesso:'Esta vers\xe3o da minuta foi salva como "'.concat(e,'"'),mensagemErro:"Ocorreu um erro tentando salvar esta vers\xe3o"})}},{key:"render",value:function(){var e=i.a.createElement(et,{sidebarIsOpen:this.state.sidebarIsOpen,rightbarIsOpen:this.state.rightbarIsOpen,toggleSidebar:this.handleToggleSidebar,toggleRightbar:this.handleToggleRightbar,onChangeName:this.handleChangeName}),t=i.a.createElement(v,{width:"var(--sidebar-width)",open:this.state.sidebarIsOpen},i.a.createElement("div",{className:"sidebar-inner"},i.a.createElement($e,{minuta:this.state.minuta,onUsarModelo:this.handleMergeMinuta,onUsarVersao:this.handleChangeMinuta,onSalvarCopia:this.handleSalvarCopia,onSalvarModelo:this.handleSalvarModelo,onSalvarVersao:this.handleSalvarVersao}))),a=i.a.createElement("div",{style:{display:"flex",width:"100%",flex:1,height:"100%",alignItems:"stretch"}},i.a.createElement("div",{style:{flex:1}},i.a.createElement(E,{texto:this.state.texto,onChange:this.handleTextoChange})),i.a.createElement(v,{width:"var(--rightbar-width)",open:this.state.rightbarIsOpen},i.a.createElement(be,{minuta:this.state.minuta})));return i.a.createElement(i.a.Fragment,null,i.a.createElement(f,{topbar:e,sidebar:t,content:a}),i.a.createElement("div",{style:{position:"fixed",top:"calc(50% - 50px)",left:0,right:0,textAlign:"center",display:this.state.showSpinner?"block":"none",zIndex:100}},i.a.createElement(p.r,{size:p.r.SIZE_STANDARD})))}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(tt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},24:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}));var n=a(20);function i(e,t){if(!Array.isArray(e))return t;if(!Array.isArray(t))return e;var a=Object(n.a)(e);return t.forEach((function(e){a.indexOf(e)<0&&a.push(e)})),a}function r(){var t=e?e.location:window.location,a=t.search.substr(1,t.search.length-1);return a||0}}).call(this,a(30))},77:function(e,t,a){}},[[121,1,2]]]);
//# sourceMappingURL=main.498d39b1.chunk.js.map